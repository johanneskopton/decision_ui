webpackJsonp([1],{0:function(e,t){},1:function(e,t){},"11Ux":function(e,t){},"1QwG":function(e,t){},2:function(e,t){},"7zck":function(e,t){},B3KD:function(e,t){},DDxJ:function(e,t){},Dw01:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),s=i("/ocq"),r=i("3EgV"),o=i.n(r),a=(i("7zck"),i("Ui3i"));n.default.use(o.a);var l={theme:{options:{customProperties:!0},themes:{light:{primary:a.a.deepPurple,secondary:a.a.grey.darken2,nodes:a.a.grey.darken3}}}},c=new o.a(l),u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("router-view")],1)},staticRenderFns:[]};var d=i("VU/8")(null,u,!1,function(e){i("Zl7i")},null,null).exports,h=i("mvHQ"),p=i.n(h),f=i("t4zo"),v=i.n(f),m=i("mtWM"),g=i.n(m),b={data:function(){return{nameDialog:!1,modelName:void 0}},computed:{token:function(){return this.$store.state.user.access_token}},methods:{saveGraphUser:function(){var e=this;if(this.modelName){this.nameDialog=!1;var t=this.$store.state.model.editor.save(),i={content:p()(t),name:this.modelName,saved:Date.now()};g.a.post("http://hortibonn.de/api/v1/decision_model/",i,{headers:{Authorization:"Bearer "+this.token}}).then(function(t){return e.receiveResults(t)}).catch(function(t){return e.receiveResultsError(t)})}},receiveResults:function(e){console.log(e),"OK"===e.statusText&&(this.$store.state.model.lastSaved=Date.now(),this.$store.state.model.unsaved=!1,this.$store.state.model.name=this.modelName)},receiveResultsError:function(e){console.log(e)},openDialog:function(){this.modelName=this.$store.state.model.name}}},y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.token?i("v-dialog",{attrs:{scrollable:"","max-width":"300px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"ma-2",attrs:{text:"",dark:"",color:"secondary"},on:{click:e.openDialog}},"v-btn",s,!1),n),[i("v-icon",{attrs:{dark:""}},[e._v("\n        mdi-content-save-outline\n      ")])],1)]}}],null,!1,2184972122),model:{value:e.nameDialog,callback:function(t){e.nameDialog=t},expression:"nameDialog"}},[e._v(" "),i("v-card",[i("v-card-title",[e._v("Model name:")]),e._v(" "),i("v-divider"),e._v(" "),i("v-card-text",[i("v-text-field",{model:{value:e.modelName,callback:function(t){e.modelName=t},expression:"modelName"}})],1),e._v(" "),i("v-divider"),e._v(" "),i("v-card-actions",[i("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(t){e.nameDialog=!1}}},[e._v("\n        Cancel\n      ")]),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:function(t){return e.saveGraphUser()}}},[e._v("\n        Save\n      ")])],1)],1)],1):e._e()},staticRenderFns:[]},w={created:function(){this.$store.state.model.engine.calculate()},watch:{model:function(){this.$store.state.model.unsaved=!0}},computed:{model:function(){return this.$store.state.model.editor.save()}},methods:{saveGraph:function(){var e=new Blob([p()(this.$store.state.model.editor.save(),null,2)],{type:"application/json;charset=utf-8"});Object(f.saveAs)(e,"graph.json")},loadGraph:function(){var e=this,t=this.$el.querySelector("#loadfile").files[0],i=new FileReader;i.addEventListener("load",function(){e.$store.state.model.editor.load(JSON.parse(i.result))},!1),i.readAsText(t)}},components:{SaveButton:i("VU/8")(b,y,!1,null,null,null).exports}},_={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"node-editor-container"},[i("baklava-editor",{attrs:{plugin:e.$store.state.model.viewPlugin}}),e._v(" "),i("v-sheet",{staticClass:"floating_btn_group left",attrs:{color:"white",elevation:"4",rounded:""}},[i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"ma-2",attrs:{text:"",dark:"",color:"secondary"},on:{click:e.saveGraph}},"v-btn",s,!1),n),[i("v-icon",{attrs:{dark:""}},[e._v("\n            mdi-tray-arrow-down\n          ")])],1)]}}])},[e._v(" "),i("span",[e._v("Download")])]),e._v(" "),i("input",{ref:"loadfile",staticStyle:{display:"none"},attrs:{type:"file",id:"loadfile"},on:{change:e.loadGraph}}),e._v(" "),i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"ma-2",attrs:{text:"",dark:"",color:"secondary"},on:{click:function(t){return e.$refs.loadfile.click()}}},"v-btn",s,!1),n),[i("v-icon",{attrs:{dark:""}},[e._v("\n            mdi-tray-arrow-up\n          ")])],1)]}}])},[e._v(" "),i("span",[e._v("Upload")])]),e._v(" "),i("SaveButton")],1)],1)},staticRenderFns:[]};var x=i("VU/8")(w,_,!1,function(e){i("p0MK")},null,null).exports,k={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"dashboard"},[this._t("default")],2)},staticRenderFns:[]};var C,S,T,E,F,R,L,B=i("VU/8")(null,k,!1,function(e){i("hlbC")},null,null).exports,$=i("fZjL"),z=i.n($),P=i("ikxi"),M=i.n(P),D=i("j9JH"),O=i.n(D);function I(){F=N(S-C,!1),E=N(F/(T-1),!0),R=Math.floor(C/E)*E,L=Math.ceil(S/E)*E}function N(e,t){var i,n;return i=Math.floor(O()(e)),n=e/Math.pow(10,i),(t?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*Math.pow(10,i)}var j=["rgba(206, 147, 216, 0.7)","rgba(77, 182, 172, 0.7)"],V=function(e,t,i,n){if(arguments.length>4&&void 0!==arguments[4]&&arguments[4]){var s="rgba(255, 255, 255, 1)",r="rgba(255, 255, 255, 0.2)",o=7;a=[{data:n,categoryPercentage:1,barPercentage:1.1,backgroundColor:"rgba(206, 147, 216, 1)"}]}else{o=10;var a=[],l=z()(n).length,c=0;for(var u in n)a.push({data:n[u],categoryPercentage:1,barPercentage:l+.1,backgroundColor:j[c]}),c++}for(var d=function(e,t,i){return C=e,S=t,T=i,I(),{tickSpacing:E,niceMinimum:R,niceMaximum:L}}(i[0],i[i.length-1],o),h=[],p=0;p<o;p++)h[p]=d.niceMinimum+d.tickSpacing*p;var f=1,v={maxRotation:90,minRotation:0,autoSkip:!1,maxTicksLimit:o,fontColor:s,callback:function(e,t,i){var n=h[f];if(e>n)return f++,+n.toFixed(5)}};return e&&e.destroy(),M.a.Bar(t,{data:{labels:i,datasets:a},options:{scales:{xAxes:[{ticks:v,gridLines:{color:r,zeroLineColor:s}}],yAxes:[{ticks:{fontColor:s,maxTicksLimit:4},gridLines:{color:r,zeroLineColor:s}}]},legend:{display:!1},tooltips:{enabled:!1},aspectRatio:1.41,hover:{mode:null},options:{events:[]}}})},A={data:function(){return{graph:void 0}},computed:{histData:function(){return this.$store.state.model.decisionSupportResult?this.$store.state.model.decisionSupportResult.hist:null}},watch:{histData:function(){this.drawHist()}},mounted:function(){this.drawHist()},methods:{drawHist:function(){if(null!=this.histData){var e=this.$refs.hist.getContext("2d"),t=this.histData.bins,i=this.histData.density;this.graph=V(this.graph,e,t,i)}}}},H={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-card",{staticClass:"hist-container",attrs:{color:"white",elevation:"1",rounded:""}},[t("v-card-title",[this._v("Result histogram")]),this._v(" "),t("canvas",{directives:[{name:"show",rawName:"v-show",value:null!=this.histData,expression:"histData != null"}],ref:"hist",attrs:{id:"hist",width:"200"}}),this._v(" "),t("v-alert",{directives:[{name:"show",rawName:"v-show",value:null==this.histData,expression:"histData == null"}],attrs:{type:"info",elevation:"2"}},[this._v("\n    No histogram to see.. Run the model first!\n  ")])],1)},staticRenderFns:[]};var U=i("VU/8")(A,H,!1,function(e){i("S6hg")},"data-v-788823f9",null).exports,K={props:{getEvpi:{type:Boolean,default:!1},evpiSet:{type:Boolean,default:!1}},data:function(){return{loading_mc:!1,network_error_msg:!1,network_success_msg:!1,noPermissionDialog:!1}},methods:{callBackend:function(){var e=this;this.loading_mc=!0;var t=this.$store.state.model.editor.save(),i=this.getEvpi?"/api/v1/evpi":"/api/v1/monte_carlo",n=this.$store.state.user.access_token;g.a.post("http://hortibonn.de"+i,t,{headers:{Authorization:"Bearer "+n}}).then(function(t){return e.receiveResults(t)}).catch(function(t){return e.receiveResultsError(t)})},receiveResults:function(e){this.loading_mc=!1,console.log(e),200==e.status&&(this.network_success_msg=!0),this.$store.commit("setDecisionSupportResult",e.data)},receiveResultsError:function(e){this.loading_mc=!1,console.log(e),"ERR_NETWORK"===e.code?this.network_error_msg=!0:"ERR_BAD_REQUEST"===e.code&&(this.noPermissionDialog=!0)}}},q={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"ma-2 hoverable",attrs:{fab:!e.getEvpi,dark:"",large:"",bottom:!e.getEvpi,right:!e.getEvpi,color:"primary",loading:e.loading_mc},on:{click:e.callBackend}},"v-btn",s,!1),n),[e.getEvpi?i("span",{staticClass:"button_text"},[e._v(" Calculate EVPI")]):e._e(),e._v(" "),e.getEvpi?e._e():i("v-icon",{staticClass:"onhover",attrs:{dark:""}},[e._v("\n          mdi-rocket-launch-outline\n        ")]),e._v(" "),e.getEvpi?i("div",[e.evpiSet?i("v-icon",{attrs:{dark:""}},[e._v("\n            mdi-table-refresh\n          ")]):i("v-icon",{attrs:{dark:""}},[e._v("\n            mdi-table-question\n          ")])],1):i("v-icon",{staticClass:"onnohover",attrs:{dark:""}},[e._v("\n          mdi-rocket-outline\n        ")])],1)]}}])},[e._v(" "),i("span",[e._v("Run")])]),e._v(" "),i("v-snackbar",{attrs:{timeout:2e3,color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[i("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(t){e.network_error_msg=!1}}},"v-btn",n,!1),[e._v("\n        Close\n      ")])]}}]),model:{value:e.network_error_msg,callback:function(t){e.network_error_msg=t},expression:"network_error_msg"}},[e._v("\n    No connection to server!\n    ")]),e._v(" "),i("v-snackbar",{attrs:{timeout:2e3,color:"secondary"},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[i("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(t){e.network_error_msg=!1}}},"v-btn",n,!1),[e._v("\n        Close\n      ")])]}}]),model:{value:e.network_success_msg,callback:function(t){e.network_success_msg=t},expression:"network_success_msg"}},[e._v("\n    decisionSupport successfully executed!\n    ")]),e._v(" "),i("v-dialog",{attrs:{"max-width":"290"},model:{value:e.noPermissionDialog,callback:function(t){e.noPermissionDialog=t},expression:"noPermissionDialog"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v("\n        Not authorized\n      ")]),e._v(" "),i("v-card-text",[e._v("\n        In order to make backend calls (i. e. run the heavy calculations on\n        our servers), you need to be logged in.\n      ")]),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"grey",text:""},on:{click:function(t){e.noPermissionDialog=!1}}},[e._v("\n          cancel\n        ")]),e._v(" "),i("v-btn",{attrs:{color:"primary",text:"",to:"/login"},on:{click:function(t){e.noPermissionDialog=!1}}},[e._v("\n          Login\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var W=i("VU/8")(K,q,!1,function(e){i("11Ux")},null,null).exports,X={computed:{evpi:function(){return this.$store.state.model.decisionSupportResult&&this.$store.state.model.decisionSupportResult.evpi?this.$store.state.model.decisionSupportResult.evpi:[]},result_vars:function(){var e=this.evpi[0],t=[];return z()(e).forEach(function(e){"variable"!=e&&"$id"!=e&&t.push(e)}),t}},components:{RunButton:W}},Y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"table-container",attrs:{color:"white",elevation:"1",rounded:""}},[i("v-card-title",[e._v("Expected Value Of Perfect Information (EVPI)")]),e._v(" "),e.evpi.length>0?i("vue-excel-editor",{attrs:{width:"100%"},model:{value:e.evpi,callback:function(t){e.evpi=t},expression:"evpi"}},[i("vue-excel-column",{attrs:{readonly:"",field:"variable",label:"variable",width:"200px"}}),e._v(" "),e._l(e.result_vars,function(e){return i("vue-excel-column",{key:e,attrs:{readonly:"",field:e,label:e,width:"150px",type:"number"}})})],2):e._e(),e._v(" "),i("RunButton",{attrs:{"get-evpi":"","evpi-set":e.evpi.length>0}})],1)},staticRenderFns:[]};var G={components:{ResultHistogram:U,Dashboard:B,EvpiTable:i("VU/8")(X,Y,!1,function(e){i("Quih")},null,null).exports}},Z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("Dashboard",[t("ResultHistogram"),this._v(" "),t("EvpiTable")],1)},staticRenderFns:[]},Q=i("VU/8")(G,Z,!1,null,null,null).exports,J={props:{live:{type:Boolean,required:!1,default:!1}},computed:{estimatesData:function(){return this.live?this.$store.state.model.estimates:this.$store.state.model.decisionSupportResult&&this.$store.state.model.decisionSupportResult.estimates?function(e){for(var t=e.split("\n"),i=[],n=t[0].split(","),s=1;s<t.length;s++)if(""!=t[s]){for(var r={},o=t[s].split(","),a=0;a<n.length;a++)""!=n[a]&&(r[n[a]]=o[a]);i.push(r)}return i}(this.$store.state.model.decisionSupportResult.estimates):[]},title:function(){return this.live?"Estimate editor":"Generated estimates"}},mounted:function(){this.$store.state.model.engine.calculate();var e=[];this.$store.state.model.editor.nodes.forEach(function(t){"Estimate"==t.type&&e.push(t.name)}),this.$store.state.model.estimates=this.$store.state.model.estimates.filter(function(t){return e.includes(t.variable)})},methods:{onLowerChange:function(e,t,i){this.$store.state.model.editor.nodes.forEach(function(t){"Estimate"==t.type&&t.name==i.variable&&("deterministic"==t.getOptionValue("Probability distribution")?t.options.get("value").value=Number(e):t.options.get("lower").value=Number(e),t.calculate())})},onUpperChange:function(e,t,i){this.$store.state.model.editor.nodes.forEach(function(t){"Estimate"==t.type&&t.name==i.variable&&("deterministic"==t.getOptionValue("Probability distribution")?t.options.get("value").value=Number(e):t.options.get("upper").value=Number(e),t.calculate())})}}},ee={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"table-container",class:[e.live?"fullwidth":"narrow"],attrs:{color:"white",elevation:"1",rounded:""}},[i("v-card-title",[e._v(e._s(e.title))]),e._v(" "),e.estimatesData.length>0?i("vue-excel-editor",{model:{value:e.estimatesData,callback:function(t){e.estimatesData=t},expression:"estimatesData"}},[i("vue-excel-column",{attrs:{readonly:"",field:"label",label:"label",width:"150px"}}),e._v(" "),i("vue-excel-column",{attrs:{readonly:"",field:"variable",label:"variable",width:"150px"}}),e._v(" "),i("vue-excel-column",{attrs:{readonly:"",field:"distribution",label:"distribution"}}),e._v(" "),i("vue-excel-column",{attrs:{readonly:!e.live,change:e.onLowerChange,field:"lower",label:"lower",type:"number"}}),e._v(" "),i("vue-excel-column",{attrs:{readonly:!e.live,change:e.onUpperChange,field:"upper",label:"upper",type:"number"}})],1):i("v-alert",{attrs:{type:"info",elevation:"2"}},[e.live?i("span",[e._v("\n      No estimates yet..\n    ")]):i("span",[e._v("\n      No estimates from backend yet.. Run the model first!\n    ")])])],1)},staticRenderFns:[]};var te=i("VU/8")(J,ee,!1,function(e){i("Z/F9")},null,null).exports,ie={components:{Dashboard:B,EstimatesTable:te}},ne={render:function(){var e=this.$createElement,t=this._self._c||e;return t("Dashboard",[t("EstimatesTable",{attrs:{live:""}})],1)},staticRenderFns:[]},se=i("VU/8")(ie,ne,!1,null,null,null).exports,re=i("PMNR"),oe=i.n(re),ae={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-card",{staticClass:"code-container",attrs:{color:"white",elevation:"1",rounded:""}},[t("v-card-title",[this._v("Generated R code")]),this._v(" "),this.rCode?t("highlightjs",{attrs:{language:"r",code:this.rCode}}):t("v-alert",{attrs:{type:"info",elevation:"2"}},[this._v("\n    No R code to see.. Run the model first!\n  ")])],1)},staticRenderFns:[]};var le={components:{Dashboard:B,CodeDisplay:i("VU/8")({computed:{rCode:function(){return this.$store.state.model.decisionSupportResult.r_script}}},ae,!1,function(e){i("xXva")},null,null).exports,EstimatesTable:te},computed:{isCalculated:function(){return void 0!==this.$store.state.model.decisionSupportResult.r_script&&void 0!==this.$store.state.model.decisionSupportResult.estimates}},methods:{saveZip:function(){var e=new oe.a,t=this.$store.state.model.decisionSupportResult.r_script;t=t.replace(/\"\/tmp\/decision_ui_estimate_[a-z0-9].*\.csv\"/,'"estimates.csv"'),e.file("script.R",t),e.file("estimates.csv",this.$store.state.model.decisionSupportResult.estimates),e.generateAsync({type:"blob"}).then(function(e){v.a.saveAs(e,"model.zip")})}}},ce={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Dashboard",[i("CodeDisplay"),e._v(" "),i("EstimatesTable"),e._v(" "),e.isCalculated?i("v-sheet",{staticClass:"floating_btn_group left",attrs:{color:"white",elevation:"4",rounded:""},on:{click:e.saveZip}},[i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"ma-2",attrs:{text:"",dark:"",color:"secondary"}},"v-btn",s,!1),n),[i("v-icon",{attrs:{dark:""}},[e._v("\n            mdi-folder-download-outline\n          ")])],1)]}}],null,!1,1065481641)},[e._v(" "),i("span",[e._v("Download ZIP")])])],1):e._e()],1)},staticRenderFns:[]},ue=i("VU/8")(le,ce,!1,null,null,null).exports,de={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-system-bar",{attrs:{height:"30px"}},[e.token?i("v-icon",[e._v("mdi-account")]):i("v-icon",[e._v("mdi-account-off")]),e._v(" "),e.email?i("span",[e._v(e._s(e.email))]):i("span",[e._v("guest")]),e._v(" "),i("v-spacer"),e._v(" "),e.token?i("span",{class:{unsaved:e.$store.state.model.unsaved}},[e._v("\n    "+e._s(this.$store.state.model.name)),e.$store.state.model.unsaved&&e.$store.state.model.name?i("span",[e._v("*\n    ")]):e._e()]):i("span",[i("em",[e._v("Unsaved model*")])]),e._v(" "),i("v-spacer"),e._v(" "),i("router-link",{attrs:{to:"/login"}},[e.token?i("v-icon",[e._v("mdi-logout-variant")]):e._e()],1)],1)},staticRenderFns:[]};var he={components:{SystemBar:i("VU/8")({computed:{token:function(){return this.$store.state.user.access_token},email:function(){return this.$store.state.user.email}}},de,!1,function(e){i("yP5V")},null,null).exports}},pe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("SystemBar"),this._v(" "),t("router-view")],1)},staticRenderFns:[]},fe=i("VU/8")(he,pe,!1,null,null,null).exports,ve={data:function(){return{email:"",password:"",showPass:!1,rules:{required:function(e){return!!e||"Required."}},network_error_msg:!1,errorMessages:""}},created:function(){this.$store.state.user.email=!1,this.$store.state.user.access_token=!1},methods:{login:function(){var e=new FormData;e.set("username",this.email),e.set("password",this.password),g.a.post("http://hortibonn.de/api/auth/jwt/login",e,{headers:{"Content-Type":"multipart/form-data"}}).then(this.onResponse).catch(this.onError)},onResponse:function(e){if(console.log(e),"OK"===e.statusText){var t=e.data.access_token;this.$store.commit("login",{email:this.email,token:t}),this.$router.push("/user/files")}},onError:function(e){"ERR_NETWORK"!==e.code?"ERR_BAD_REQUEST"!==e.code||"Not Found"!==e.response.statusText?console.log(e):this.errorMessages="Wrong email or password":this.network_error_msg=!0}}},me={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-layout",{attrs:{"align-center":"","justify-center":""}},[i("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[i("v-card",{staticClass:"elevation-12"},[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[e._v("Login")])],1),e._v(" "),i("v-card-text",[i("v-form",[i("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",name:"email",label:"Email",type:"text",rules:[e.rules.required],"error-messages":e.errorMessages,error:!!e.errorMessages},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),i("v-text-field",{attrs:{id:"password","prepend-icon":"mdi-lock",name:"password",label:"Password","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",rules:[e.rules.required],type:e.showPass?"text":"password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),i("v-card-actions",[i("p",{staticClass:"infotext"},[e._v("\n            New here? ðŸ¤—\n            "),i("router-link",{attrs:{to:"/register"}},[e._v("Create a free account!")]),i("br"),e._v("\n            ..or\n            "),i("router-link",{attrs:{to:"/user/workspace"}},[e._v("try as a guest.")])],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1),e._v(" "),i("v-snackbar",{attrs:{timeout:2e3,color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[i("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(t){e.network_error_msg=!1}}},"v-btn",n,!1),[e._v("\n        Close\n      ")])]}}]),model:{value:e.network_error_msg,callback:function(t){e.network_error_msg=t},expression:"network_error_msg"}},[e._v("\n    No connection to server!\n    ")]),e._v(" "),i("v-snackbar",{attrs:{color:"info",timeout:2e3},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[i("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.$store.state.user.register_success_msg=!1}}},"v-btn",n,!1),[e._v("\n        Close\n      ")])]}}]),model:{value:e.$store.state.user.register_success_msg,callback:function(t){e.$set(e.$store.state.user,"register_success_msg",t)},expression:"$store.state.user.register_success_msg"}},[e._v("\n    Registration complete! ðŸŽ‰\n    ")])],1)},staticRenderFns:[]};var ge=i("VU/8")(ve,me,!1,function(e){i("bpnE")},null,null).exports,be={data:function(){return{email:"",password:"",showPass:!1,rules:{required:function(e){return!!e||"Required."}},network_error_msg:!1,errorMessages:""}},watch:{email:function(){this.errorMessages=""}},methods:{register:function(){g.a.post("http://hortibonn.de/api/auth/register",{email:this.email,password:this.password}).then(this.onResponse).catch(this.onError)},onResponse:function(e){"Created"===e.statusText&&(this.$store.state.user.register_success_msg=!0,this.$router.push("/login"))},onError:function(e){"ERR_NETWORK"!==e.code?"ERR_BAD_REQUEST"!==e.code||"REGISTER_USER_ALREADY_EXISTS"!==e.response.data.detail?console.log(e):this.errorMessages="A user with this address already exists.":this.network_error_msg=!0}}},ye={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-layout",{attrs:{"align-center":"","justify-center":""}},[i("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[i("v-card",{staticClass:"elevation-12"},[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[e._v("Register")])],1),e._v(" "),i("v-card-text",[i("v-form",[i("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",name:"email",label:"Email",type:"text",rules:[e.rules.required],"error-messages":e.errorMessages,error:!!e.errorMessages},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),i("v-text-field",{attrs:{id:"password","prepend-icon":"mdi-lock",name:"password",label:"Password","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",rules:[e.rules.required],type:e.showPass?"text":"password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),i("v-card-actions",[i("p",{staticClass:"infotext"},[e._v("\n            If you already have an account, just\n            "),i("router-link",{attrs:{to:"/login"}},[e._v("login")]),e._v(".\n          ")],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:e.register}},[e._v("Register")])],1)],1)],1)],1),e._v(" "),i("v-snackbar",{attrs:{timeout:2e3,color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[i("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(t){e.network_error_msg=!1}}},"v-btn",n,!1),[e._v("\n        Close\n      ")])]}}]),model:{value:e.network_error_msg,callback:function(t){e.network_error_msg=t},expression:"network_error_msg"}},[e._v("\n    No connection to server!\n    ")])],1)},staticRenderFns:[]};var we=i("VU/8")(be,ye,!1,function(e){i("X+iT")},null,null).exports,_e={components:{RunButton:W},created:function(){this.$store.state.model.isInitialized||this.$store.dispatch("initModel")},data:function(){return{drawer:!1,selectedItem:!1}}},xe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"workspace-container"},[i("v-navigation-drawer",{staticClass:"pt-4",attrs:{app:"",color:"secondary lighten-5","mini-variant":"",permanent:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[i("v-list",{attrs:{flat:"",dense:"",nav:"",height:"100%"}},[i("v-list-item-group",{staticClass:"d-flex flex-column",attrs:{color:"primary accent-1"},model:{value:e.selectedItem,callback:function(t){e.selectedItem=t},expression:"selectedItem"}},[i("v-list-item",{attrs:{to:"/user/workspace/modeling",link:""}},[i("v-list-item-icon",[i("v-icon",{attrs:{rotate:90}},[e._v("\n              mdi-graph mdi-rotate-90\n            ")])],1),e._v(" "),i("v-list-item-title",[e._v("\n            Model editor\n          ")])],1),e._v(" "),i("v-list-item",{attrs:{to:"/user/workspace/estimates",link:""}},[i("v-list-item-icon",[i("v-icon",[e._v("\n              mdi-table\n            ")])],1),e._v(" "),i("v-list-item-title",[e._v("\n            Estimates\n          ")])],1),e._v(" "),i("v-list-item",{attrs:{to:"/user/workspace/results",link:""}},[i("v-list-item-icon",[i("v-icon",[e._v("\n              mdi-chart-histogram\n            ")])],1),e._v(" "),i("v-list-item-title",[e._v("\n            Results dashboard\n          ")])],1),e._v(" "),i("v-list-item",{attrs:{to:"/user/workspace/code",link:""}},[i("v-list-item-icon",[i("v-icon",[e._v("\n              mdi-language-r\n            ")])],1),e._v(" "),i("v-list-item-title",[e._v("\n            R-Code\n          ")])],1),e._v(" "),e.$store.state.user.access_token?i("v-list-item",{staticClass:"mt-auto",attrs:{to:"/user/files",link:""}},[i("v-list-item-icon",[i("v-icon",[e._v("\n              mdi-format-list-text\n            ")])],1),e._v(" "),i("v-list-item-title",[e._v("\n            Files\n          ")])],1):e._e()],1)],1)],1),e._v(" "),i("div",{staticClass:"main-window"},[i("router-view"),e._v(" "),i("RunButton")],1)],1)},staticRenderFns:[]};var ke=i("VU/8")(_e,xe,!1,function(e){i("h/oq")},null,null).exports,Ce={data:function(){return{models:[]}},created:function(){this.query_models()},methods:{nodeCount:function(e){return String(JSON.parse(e).nodes.length)+" nodes"},query_models:function(){var e=this,t=this.$store.state.user.access_token;g.a.get("http://hortibonn.de/api/v1/decision_models/",{headers:{Authorization:"Bearer "+t}}).then(function(t){return e.receiveResults(t)}).catch(function(t){return e.receiveResultsError(t)})},receiveResults:function(e){this.models=e.data,console.log(e)},receiveResultsError:function(e){console.log(e)},open:function(e){this.$store.dispatch("initModel"),this.$store.state.model.name=e.name,this.$store.state.model.editor.load(JSON.parse(e.content)),this.$router.push("/user/workspace")}}},Se={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-card",[i("v-toolbar",{attrs:{color:"primary",dark:""}},[i("v-toolbar-title",[e._v("My files")])],1),e._v(" "),i("v-list",{attrs:{subheader:"","two-line":""}},[e._l(e.models,function(t){return i("v-list-item",{key:t.saved,attrs:{link:""},on:{click:function(i){return e.open(t)}}},[i("v-list-item-avatar",[i("v-icon",{staticClass:"grey lighten-1",attrs:{dark:""}},[e._v("\n              mdi-file\n            ")])],1),e._v(" "),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),e._v(" "),i("v-list-item-subtitle",{domProps:{textContent:e._s(e.nodeCount(t.content))}})],1)],1)}),e._v(" "),0==e.models.length?i("v-list-item",[e._v("\n          No models yet! Click on the\n          "),i("v-icon",{attrs:{light:""}},[e._v("\n            mdi-file-plus\n          ")]),e._v("\n          button below to create your first!\n        ")],1):e._e()],2)],1)],1)],1)},staticRenderFns:[]};var Te={components:{FileList:i("VU/8")(Ce,Se,!1,function(e){i("B3KD")},null,null).exports},created:function(){this.$store.dispatch("initModel")}},Ee={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fileview"},[t("FileList"),this._v(" "),t("v-btn",{staticClass:"ma-2",attrs:{right:"",dark:"",fab:"",color:"primary",to:"/user/workspace",large:""}},[t("v-icon",{attrs:{dark:""}},[this._v("\n      mdi-file-plus\n    ")])],1)],1)},staticRenderFns:[]};var Fe=[{path:"/user/",component:fe,children:[{path:"workspace",component:ke,children:[{path:"",redirect:"modeling"},{path:"modeling",component:x},{path:"estimates",component:se},{path:"results",component:Q},{path:"code",component:ue}]},{path:"files",component:i("VU/8")(Te,Ee,!1,function(e){i("sjfz")},null,null).exports}]},{path:"/login/",component:ge},{path:"/register/",component:we},{path:"/",redirect:"/login/"}],Re=new s.a({routes:Fe}),Le=i("jSnx"),Be=i("OJkV"),$e=i.n(Be),ze=i("jDga"),Pe=i.n(ze),Me=i("SjgF"),De=(i("sphj"),i("vGsY")),Oe=i("NYxO"),Ie=i("Dd8w"),Ne=i.n(Ie),je=i("tcKz"),Ve=i("hfKI"),Ae=i("qadL"),He=i("fBCF"),Ue=i("lHA8"),Ke=i.n(Ue),qe={props:{value:{type:Array,default:function(){return[]}}},data:function(){return{det_val:!1,is_prob:"prob",graph:void 0}},watch:{value:function(e){Array.isArray(e)?new Ke.a(e).size>1?(this.det_val=!1,this.is_prob="prob",this.draw_hist()):this.print_deterministic(e[0]):this.print_deterministic(e)}},methods:{print_deterministic:function(e){this.det_val=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001;return Math.abs(e-t)<i}(e,0)?0:e.toFixed(Math.max(0,3-Math.floor(O()(e)))),this.is_prob="det"},draw_hist:function(){var e=this.$refs.hist.getContext("2d");var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;function i(t){var i=1+(e.length-1)*t,n=Math.floor(i),s=Math.ceil(i),r=i-n;return(1-r)*e[n]+r*e[s]}(e=e.slice()).sort(function(e,t){return e-t});for(var n=i(.99),s=i(.01),r=n-s,o=Array(t).fill(0),a=r/(t-1),l=0;l<t;l++)o[l]=s+a*l;var c=Array(t).fill(0);for(l=0;l<e.length;l++){var u=Math.floor((e[l]-s)/a);u>=0&&u<t&&c[u]++}return{bins:o,bin_counts:c}}(this.value),i=t.bins,n=t.bin_counts;this.graph=V(this.graph,e,i,n,!0)}}},We={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hist_container"},[t("span",{directives:[{name:"show",rawName:"v-show",value:!1!==this.det_val,expression:"det_val !== false"}]},[this._v("Deterministic: "+this._s(this.det_val))]),this._v(" "),t("canvas",{ref:"hist",class:this.is_prob,attrs:{id:"hist"}})])},staticRenderFns:[]};var Xe=i("VU/8")(qe,We,!1,function(e){i("YyRQ")},null,null).exports,Ye=i("pFYg"),Ge=i.n(Ye),Ze=i("Gu7T"),Qe=i.n(Ze),Je=i("OQky"),et=i.n(Je),tt={props:{value:{type:Object,default:function(){return[]}}},data:function(){return{is_data:!1,graph:void 0}},watch:{value:function(e){Array.isArray(e.value)&&"object"==Ge()(e.value[0])?(this.is_data=!0,this.draw_diagram()):this.is_data=!1}},methods:{draw_diagram:function(){var e=this.$refs.hist.getContext("2d"),t=this.value.value;if(t.length>0&&"object"==Ge()(t[0])){if(this.value.use_average){var i=et.a.zeros([t[0].shape[0]]);t.forEach(function(e){i=i.add(e)});var n=(i=i.divide(t.length)).tolist()}else n=t[0].tolist();this.graph=function(e,t,i){var n="rgba(255, 255, 255, 1)",s=[].concat(Qe()(Array(i.length).keys())),r=[{data:i,backgroundColor:"rgba(178, 223, 219, 1)"}];return e&&e.destroy(),M.a.Bar(t,{data:{labels:s,datasets:r},options:{scales:{xAxes:[{ticks:{fontColor:n},gridLines:{color:"rgba(255, 255, 255, 0.2)",zeroLineColor:n}}],yAxes:[{ticks:{fontColor:n,maxTicksLimit:4,beginAtZero:!0},gridLines:{color:"rgba(255, 255, 255, 0.2)",zeroLineColor:n}}]},legend:{display:!1},tooltips:{enabled:!1},aspectRatio:1.41,hover:{mode:null},options:{events:[]}}})}(this.graph,e,n)}}}},it={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"diagram_container"},[t("canvas",{ref:"hist",class:{hide:!this.is_data},attrs:{id:"hist"}})])},staticRenderFns:[]};var nt=i("VU/8")(tt,it,!1,function(e){i("ZTXh")},null,null).exports,st=i("Zx67"),rt=i.n(st),ot=i("Zrlr"),at=i.n(ot),lt=i("wxAW"),ct=i.n(lt),ut=i("zwoO"),dt=i.n(ut),ht=i("Pf15"),pt=i.n(ht),ft=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.addOutputInterface("Result"),e}return pt()(t,e),ct()(t,[{key:"check_valid",value:function(){return!0}},{key:"set_error",value:function(e){this.customClasses=e?"error":"no_error"}},{key:"calculate",value:function(){if("function"==typeof this._calculate&&this._calculate(),this.check_valid()){this.set_error(!1);var e=this.calculate_scalar();this.getInterface("Result").value=e}else this.set_error(!0),this.getInterface("Result").value=NaN}},{key:"calculate_scalar",value:function(){var e=this.inputInterfaces,t=new Object;z()(e).forEach(function(i){t[i]=e[i].value});var i=new Object;return z()(t).forEach(function(e){null===t[e]&&(t[e]=0),t[e].length?i[e]=t[e][0]:i[e]=t[e]}),this.calculate_single(i)}}]),t}(je.Node),vt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.getInterface("Result").type="probabilistic",e}return pt()(t,e),ct()(t,[{key:"calculate",value:function(){if("function"==typeof this._calculate&&this._calculate(),this.check_valid()){this.set_error(!1);var e=this.calculate_scalar(1e3);this.getInterface("Result").value=e}else this.set_error(!0),this.getInterface("Result").value=[NaN]}},{key:"calculate_scalar",value:function(e){var t=[],i=this.inputInterfaces,n=new Object;z()(i).forEach(function(e){n[e]=i[e].value});for(var s=0;s<e;s++){var r=new Object;z()(n).forEach(function(e){null===n[e]&&(n[e]=0),n[e].length?r[e]=n[e][s]:r[e]=n[e]}),t.push(this.calculate_single(r))}return t}}]),t}(ft),mt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="Math",e.name="Math",e.addInputInterface("A","NumberOption",1,{type:"probabilistic"}),e.addInputInterface("B","NumberOption",10,{type:"probabilistic"}),e.addOption("Operation","SelectOption","Add",void 0,{items:["Add","Subtract","Multiply","Divide"]}),e}return pt()(t,e),ct()(t,[{key:"calculate_single",value:function(e){return{Add:function(e,t){return e+t},Subtract:function(e,t){return e-t},Multiply:function(e,t){return e*t},Divide:function(e,t){return e/t}}[this.getOptionValue("Operation")](e.A,e.B)}}]),t}(vt),gt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.getInterface("Result").type="probabilistic_series",e}return pt()(t,e),t}(vt),bt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="SeriesMath",e.name="Math",e.addInputInterface("A",void 0,NaN,{type:"probabilistic_series"}),e.addInputInterface("B",void 0,NaN,{type:"probabilistic_series"}),e.addOption("Operation","SelectOption","Add",void 0,{items:["Add","Subtract","Multiply","Divide"]}),e}return pt()(t,e),ct()(t,[{key:"check_valid",value:function(){var e=this.getInterface("A").value[0],t=this.getInterface("B").value[0];return"object"==(void 0===e?"undefined":Ge()(e))&&"object"==(void 0===t?"undefined":Ge()(t))&&e.shape[0]==t.shape[0]}},{key:"calculate_single",value:function(e){return{Add:function(e,t){return e.add(t)},Subtract:function(e,t){return e.subtract(t)},Multiply:function(e,t){return e.multiply(t)},Divide:function(e,t){return e.divide(t)}}[this.getOptionValue("Operation")](e.A,e.B)}}]),t}(gt),yt=i("c/Tr"),wt=i.n(yt)()(Array(26)).map(function(e,t){return t+65}).map(function(e){return String.fromCharCode(e)}),_t=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="Sum",e.name="Sum",e.summandInterfaces=[],e.adding_summand=!1,e.add_summand(),e.add_summand(),e.check_add_summand=e.check_add_summand.bind(e),e.check_add_summand(),e.events.update.addListener(void 0,e.check_add_summand),e}return pt()(t,e),ct()(t,[{key:"check_add_summand",value:function(){this.summandInterfaces.length>1&&!this.adding_summand&&0!=this.summandInterfaces[this.summandInterfaces.length-1].value&&this.add_summand()}},{key:"add_summand",value:function(){var e=this.summandInterfaces.length;this.adding_summand=!0,this.summandInterfaces.push(this.addInputInterface(wt[e],"NumberOption",0,{type:"probabilistic"})),this.adding_summand=!1}},{key:"calculate_single",value:function(e){for(var t=0,i=0;i<this.summandInterfaces.length;i++)t+=e[wt[i]];return t}}]),t}(vt),xt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="Display",e.name="Display",e.addInputInterface("Value",void 0,[0],{type:"probabilistic"}),e.addOption("ValueText","HistogramOption"),e}return pt()(t,e),ct()(t,[{key:"calculate",value:function(){var e=this.getInterface("Value").value;"number"==typeof e&&(e=e.toFixed(3)),this.setOptionValue("ValueText",e)}}]),t}(je.Node),kt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="Result",e.name="Result",e.addInputInterface("Value",void 0,[0],{type:"probabilistic"}),e.addOption("ValueText","HistogramOption"),e}return pt()(t,e),ct()(t,[{key:"calculate",value:function(){var e=this.getInterface("Value").value;"number"==typeof e&&(e=e.toFixed(3)),this.setOptionValue("ValueText",e)}}]),t}(je.Node),Ct=i("HAA3"),St=i.n(Ct),Tt=i("d7EF"),Et=i.n(Tt),Ft=function(e){var t=e.rng,i=void 0===t?Math.random:t,n=e.range,s=void 0===n?[-1/0,1/0]:n,r=e.mean,o=e.stdDev,a=e.skew,l=void 0===a?0:a;if(r<s[0]||r>s[1])throw Error("Mean of "+r+" not in desired range of "+s+"!");return function e(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=function(e){for(var t=0,i=0;0===t;)t=e();for(;0===i;)i=e();var n=Math.sqrt(-2*Math.log(t)),s=2*Math.PI*i;return[n*Math.cos(s),n*Math.sin(s)]}(t),a=Et()(o,2),l=a[0],c=a[1];if(0===r){var u=i+n*l;return u<s[0]||u>s[1]?e(t,i,n,r):u}var d=r/Math.sqrt(1+r*r),h=d*l+Math.sqrt(1-d*d)*c,p=i+n*(l>=0?h:-h);return p<s[0]||p>s[1]?e(t,i,n,r):p}(i,r,o,l)},Rt=1.6448536269514722,Lt=function(e){return e.lower+1e-5<e.upper},Bt={deterministic:{id:0,name:"deterministic",params:["value"],checks:[],most_likely:function(e){return e.value},random_sample:function(e){return e.value}},norm:{id:2,name:"norm",params:["lower","upper"],checks:[Lt],most_likely:function(e){return(e.lower+e.upper)/2},random_sample:function(e){var t=(e.lower+e.upper)/2,i=(e.upper-t)/Rt,n=Math.pow(i,2);return St()(t,n).ppf(Math.random())}},posnorm:{id:3,name:"posnorm",params:["lower","upper"],checks:[Lt,function(e){return e.lower>.1*e.upper}],most_likely:function(e){var t=(e.lower+e.upper)/2;return Math.max(0,t)},random_sample:function(e){var t=(e.lower+e.upper)/2,i=(e.upper-t)/Rt;return Ft({range:[0,1/0],mean:t,stdDev:i})}},tnorm_0_1:{id:3,name:"tnorm_0_1",params:["lower","upper"],checks:[Lt,function(e){return e.lower>.1*e.upper},function(e){return e.lower+.9*(1-e.lower)>e.upper}],most_likely:function(e){var t=(e.lower+e.upper)/2;return Math.max(0,t)},random_sample:function(e){var t=(e.lower+e.upper)/2,i=(e.upper-t)/Rt;return Ft({range:[0,1],mean:t,stdDev:i})}}},$t=function(){function e(t,i){var n=this;at()(this,e),this.type=t,this.type.params.forEach(function(e){if(!(e in i))throw new Error("incomplete definition of random variable!")}),this.params=i,this.is_valid=!0,this.type.checks.forEach(function(e){n.is_valid=n.is_valid&&e(n.params)})}return ct()(e,[{key:"get_most_likely",value:function(){return this.type.most_likely(this.params)}},{key:"get_random_sample",value:function(){return this.type.random_sample(this.params)}}]),e}(),zt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="Estimate",e.name="Estimate",e.addOption("Probability distribution","SelectOption","norm",void 0,{items:z()(Bt)}),e.uv_type=!1,e.update_uv_type=e.update_uv_type.bind(e),e.update_uv_type(),e.events.update.addListener(void 0,e.update_uv_type),e}return pt()(t,e),ct()(t,[{key:"update_uv_type",value:function(){var e=this;if(this.uv_type.name!=this.getOptionValue("Probability distribution")){var t=this.uv_type;this.uv_type=Bt[this.getOptionValue("Probability distribution")],this.uv_type.params.forEach(function(i){t&&t.params.includes(i)||e.addOption(i,"NumberOption",1*("upper"==i))}),t&&t.params.forEach(function(t){e.uv_type.params.includes(t)||e.removeOption(t)}),"deterministic"==this.getOptionValue("Probability distribution")?(this.removeInterface("Result"),this.addOutputInterface("Result"),this.getInterface("Result").type="deterministic"):"deterministic"==t.name&&(this.removeInterface("Result"),this.addOutputInterface("Result"),this.getInterface("Result").type="probabilistic")}}},{key:"calculate_scalar",value:function(e){var t=this,i=new Object;this.uv_type.params.forEach(function(e){i[e]=t.getOptionValue(e)}),this.uv=new $t(this.uv_type,i);var n=[];if(this.uv.is_valid){for(var s=0;s<e;s++)n.push(this.uv.get_random_sample());this.set_error(!1)}else n=NaN,this.set_error(!0);return n}},{key:"_calculate",value:function(){var e=this,t={};this.uv_type.params.forEach(function(i){if("value"==i){var n=e.getOptionValue(i);t.lower=n,t.upper=n}t[i]=e.getOptionValue(i)}),t.label=this.name,t.variable=this.name,t.distribution=this.getOptionValue("Probability distribution"),Kt.state.model.estimates=Kt.state.model.estimates.filter(function(e){return e.variable!=this.name},this),Kt.state.model.estimates.push(t)}}]),t}(vt),Pt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="ChanceEvent",e.name="ChanceEvent",e.addInputInterface("chance","NumberOption",0,{min:0,max:1,type:"probabilistic"}),e.addInputInterface("value_if","NumberOption",1,{type:"probabilistic"}),e.addInputInterface("value_if_not","NumberOption",0,{type:"probabilistic"}),e}return pt()(t,e),ct()(t,[{key:"calculate_single",value:function(e){return(e.value_if-e.value_if_not)*(Math.random()<e.chance)+e.value_if_not}}]),t}(vt),Mt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="SeriesChanceEvent",e.name="ChanceEvent",e.addInputInterface("chance","NumberOption",0,{min:0,max:1,type:"probabilistic"}),e.addInputInterface("value_if",void 0,NaN,{type:"probabilistic_series"}),e.addInputInterface("value_if_not",void 0,NaN,{type:"probabilistic_series"}),e}return pt()(t,e),ct()(t,[{key:"check_valid",value:function(){var e=this.getInterface("value_if").value[0],t=this.getInterface("value_if_not").value[0];return"object"==(void 0===e?"undefined":Ge()(e))&&"object"==(void 0===t?"undefined":Ge()(t))&&e.shape[0]==t.shape[0]}},{key:"calculate_single",value:function(e){return Math.random()<e.chance?e.value_if:e.value_if_not}}]),t}(gt),Dt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="ValueVarier",e.name="ValueVarier",e.addOption("TrendType","SelectOption","absolute",void 0,{items:["absolute","relative"]}),e.addInputInterface("var_mean","NumberOption",1,{type:"probabilistic"}),e.addInputInterface("var_CV","NumberOption",100,{type:"probabilistic"}),e.addInputInterface("trend","NumberOption",0,{type:"probabilistic"}),e.addInputInterface("n","IntegerOption",10,{type:"deterministic_int"}),e}return pt()(t,e),ct()(t,[{key:"calculate_single",value:function(e){var t=e.var_mean,i=this.getOptionValue("TrendType"),n=e.trend,s=Math.pow(t*e.var_CV/100,2),r=[];if(0==s&&0==n)return et.a.ones([e.n]).multiply(t);for(var o=[],a=0;a<e.n;a++)"absolute"==i?o.push(t+n*a):"relative"==i&&o.push(t*Math.pow(1+n/100,a));if(0==s)return et.a.array(o);for(var l=0;l<e.n;l++){var c=Math.pow(o[l]*e.var_CV/100,2),u=St()(o[l],c);r.push(u.ppf(Math.random()))}return et.a.array(r)}}]),t}(gt),Ot=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="NPV",e.name="NetPresentValue",e.addInputInterface("x",void 0,void 0,{type:"probabilistic_series"}),e.addInputInterface("discount","NumberOption",10,{type:"probabilistic"}),e}return pt()(t,e),ct()(t,[{key:"calculate_single",value:function(e){var t=0,i=0;return e.x?(e.x.tolist().forEach(function(n){t+=n/Math.pow(1+e.discount/100,i),i++}),t):0}}]),t}(vt),It=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="SeriesDisplay",e.name="Display",e.addInputInterface("Value",void 0,[0],{type:"probabilistic_series"}),e.addOption("UseAverage","CheckboxOption"),e.addOption("DiagramValue","SeriesDiagramOption"),e}return pt()(t,e),ct()(t,[{key:"calculate",value:function(){var e=Object();e.value=this.getInterface("Value").value,e.use_average=this.getOptionValue("UseAverage"),this.setOptionValue("DiagramValue",e)}}]),t}(je.Node),Nt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="ToSeries",e.name="ToSeries",e.addInputInterface("value","NumberOption",1,{type:"probabilistic"}),e.addInputInterface("n","IntegerOption",10,{type:"deterministic_int"}),e.timestep_option=!1,e.addOption("TimestepMethod","SelectOption","every",void 0,{items:["every","as defined"]}),e.check_timestep_method=e.check_timestep_method.bind(e),e.check_timestep_method(),e.events.update.addListener(void 0,e.check_timestep_method),e}return pt()(t,e),ct()(t,[{key:"check_timestep_method",value:function(){"as defined"!=this.getOptionValue("TimestepMethod")||this.timestep_option?"every"==this.getOptionValue("TimestepMethod")&&this.timestep_option&&(this.removeInterface("timestep"),this.timestep_option=!1):(this.timestep_option=!0,this.addInputInterface("timestep","IntegerOption",0,{type:"probabilistic_int"}))}},{key:"calculate_single",value:function(e){var t=this.getOptionValue("TimestepMethod");if("every"==t)return et.a.ones([e.n]).multiply(e.value);if("as defined"==t){var i=et.a.zeros([e.n]);return i.set(e.timestep,e.value),i}}}]),t}(gt),jt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.getInterface("Result").type="probabilistic_int",e.type="Round",e.name="Round",e.addInputInterface("x","NumberOption",0,{type:"probabilistic"}),e.addOption("Operation","SelectOption","round",void 0,{items:["floor","ceiling","round"]}),e}return pt()(t,e),ct()(t,[{key:"calculate_single",value:function(e){return{floor:function(e){return Math.floor(e)},ceiling:function(e){return Math.ceil(e)},round:function(e){return Math.round(e)}}[this.getOptionValue("Operation")](e.x)}}]),t}(vt),Vt=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.getInterface("Result").type="deterministic_int",e.type="RoundDeterministic",e.name="RoundDeterministic",e.addInputInterface("x","NumberOption",0,{type:"deterministic"}),e.addOption("Operation","SelectOption","round",void 0,{items:["floor","ceiling","round"]}),e}return pt()(t,e),ct()(t,[{key:"calculate_single",value:function(e){var t={floor:function(e){return Math.floor(e)},ceiling:function(e){return Math.ceil(e)},round:function(e){return Math.round(e)}},i=this.getOptionValue("Operation"),n=e.x;return n=Array.isArray(n)?n[0]:n,t[i](n)}}]),t}(ft),At=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.getInterface("Result").type="probabilistic_int",e.type="Comparison",e.name="Comparison",e.addInputInterface("A","NumberOption",1,{type:"probabilistic"}),e.addInputInterface("B","NumberOption",10,{type:"probabilistic"}),e.addOption("Operation","SelectOption",">",void 0,{items:[">","<","<=",">="]}),e}return pt()(t,e),ct()(t,[{key:"calculate_single",value:function(e){return 1*{">":function(e,t){return e>t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t}}[this.getOptionValue("Operation")](e.A,e.B)}}]),t}(vt),Ht=function(e){function t(){at()(this,t);var e=dt()(this,(t.__proto__||rt()(t)).call(this));return e.type="SeriesComparison",e.name="Comparison",e.addInputInterface("A",void 0,NaN,{type:"probabilistic_series"}),e.addInputInterface("B",void 0,NaN,{type:"probabilistic_series"}),e.addOption("Operation","SelectOption",">",void 0,{items:[">","<","<=",">="]}),e}return pt()(t,e),ct()(t,[{key:"check_valid",value:function(){var e=this.getInterface("A").value[0],t=this.getInterface("B").value[0];return"object"==(void 0===e?"undefined":Ge()(e))&&"object"==(void 0===t?"undefined":Ge()(t))&&e.shape[0]==t.shape[0]}},{key:"calculate_single",value:function(e){for(var t=this.getOptionValue("Operation"),i=et.a.zeros(e.A.shape),n={">":function(e,t){return e>t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t}}[t],s=0;s<e.A.shape[0];s++)i.set(s,1*n(e.A.get(s),e.B.get(s)));return i}}]),t}(gt),Ut={state:function(){return{editor:void 0,viewPlugin:void 0,engine:new Ve.Engine(!0),isInitialized:!1,decisionSupportResult:void 0,estimates:[],lastSaved:void 0,name:void 0,unsaved:!1}},mutations:{setInitialized:function(e){e.isInitialized=!0},setDecisionSupportResult:function(e,t){e.decisionSupportResult?e.decisionSupportResult=Ne()({},e.decisionSupportResult,t):e.decisionSupportResult=t}},actions:{initModel:function(e){e.state.editor=new je.Editor,e.state.viewPlugin=new Le.ViewPlugin,e.state.decisionSupportResult=!1,e.state.estimates=[],e.state.lastSaved=void 0,e.state.name=void 0,e.state.editor.use(e.state.viewPlugin),e.state.editor.use(new He.OptionPlugin),e.state.editor.use(e.state.engine);var t=new Ae.InterfaceTypePlugin;e.state.editor.use(t),t.addType("probabilistic",a.a.purple.accent1),t.addType("probabilistic_int",a.a.purple.lighten4),t.addType("probabilistic_series",a.a.teal.accent1),t.addType("deterministic",a.a.amber.accent1),t.addType("deterministic_int",a.a.amber.lighten5),t.addConversion("deterministic","probabilistic",function(e){return e}),t.addConversion("deterministic_int","probabilistic_int",function(e){return e}),t.addConversion("deterministic_int","probabilistic",function(e){return e}),t.addConversion("deterministic_int","deterministic",function(e){return e}),t.addConversion("probabilistic_int","probabilistic",function(e){return e}),e.state.viewPlugin.enableMinimap=!1,e.state.editor.registerNodeType("Math",mt),e.state.editor.registerNodeType("Comparison",At),e.state.editor.registerNodeType("Round",jt),e.state.editor.registerNodeType("RoundDeterministic",Vt),e.state.editor.registerNodeType("Display",xt),e.state.editor.registerNodeType("Result",kt),e.state.editor.registerNodeType("Estimate",zt),e.state.editor.registerNodeType("Sum",_t),e.state.editor.registerNodeType("ChanceEvent",Pt),e.state.editor.registerNodeType("ValueVarier",Dt),e.state.editor.registerNodeType("ToSeries",Nt),e.state.editor.registerNodeType("NPV",Ot),e.state.editor.registerNodeType("SeriesMath",bt),e.state.editor.registerNodeType("SeriesComparison",Ht),e.state.editor.registerNodeType("SeriesChanceEvent",Mt),e.state.editor.registerNodeType("SeriesDisplay",It),e.state.viewPlugin.registerOption("HistogramOption",Xe),e.state.viewPlugin.registerOption("SeriesDiagramOption",nt);var i=function(t,i,n){var s=new t;return e.state.editor.addNode(s),s.position.x=i,s.position.y=n,s},n=i(mt,100,140),s=i(kt,400,140);e.state.editor.addConnection(n.getInterface("Result"),s.getInterface("Value")),e.commit("setInitialized")}}};n.default.use(Oe.a);var Kt=new Oe.a.Store({modules:{model:Ut,user:{state:function(){return{email:!1,access_token:!1,register_success_msg:!1}},mutations:{login:function(e,t){e.email=t.email,e.access_token=t.token}}}}});n.default.use(s.a),n.default.use(Le.BaklavaVuePlugin),n.default.use(De.a),$e.a.registerLanguage("r",Pe.a),n.default.use(Me.a),n.default.config.productionTip=!1,n.default.config.devtools=!1,n.default.prototype.log=console.log,new n.default({el:"#app",vuetify:c,router:Re,store:Kt,render:function(e){return e(d)}})},NWSX:function(e,t){},Quih:function(e,t){},RfMb:function(e,t){},S6hg:function(e,t){},"X+iT":function(e,t){},YdqZ:function(e,t,i){"use strict";var n=i("gRE1"),s=i.n(n),r=i("Xxa5"),o=i.n(r),a=i("//Fk"),l=i.n(a),c=i("exGp"),u=i.n(c),d=i("pFYg"),h=i.n(d),p=i("woOf"),f=i.n(p),v=i("mvHQ"),m=i.n(v),g=i("fZjL"),b=i.n(g),y=i("c/Tr"),w=i.n(y),_=i("Dd8w"),x=i.n(_),k={props:{value:{type:String,default:""},interactive:{type:Boolean,default:!1}},data:function(){return{uid:"",table:null,cell:null,row:null,colPos:0,rect:null}},computed:{listeners:function(){return x()({},this.$listeners,{input:this.onInput})},err:function(){return this.validate?this.validate(this.value):""},filterRowTop:function(){return this.cell?{top:this.cell.offsetTop+"px"}:{}}},watch:{value:function(e){e!==this.$el.textContent&&(this.$refs.cell.textContent=e)}},mounted:function(){this.uid="uid"+this._uid,this.cell=this.$refs.cell,this.cell.textContent=this.value,this.row=this.cell.parentNode,this.thead=this.row.parentNode,this.colPos=w()(this.row.children).indexOf(this.cell)-1,this.colLabel=this.thead.children[0].children[this.colPos+1]},methods:{updateValue:function(e){var t=e.target.textContent;this.value!==t&&this.$emit("input",t)},onInput:function(e){this.interactive&&this.updateValue(e)},onFocus:function(){var e=this;setTimeout(function(){e.colLabel.classList.add("focus"),e.selectAll(e.cell),e.$parent.currentColPos=e.colPos,e.$parent.currentRowPos=-1,e.$parent.labelTr.children[e.$parent.currentColPos+1].classList.add("focus")},0)},selectAll:function(e){var t=window.getSelection();if(t){var i=document.createRange();i.selectNodeContents(e),t.removeAllRanges(),t.addRange(i)}},onBlur:function(e){this.updateValue(e),this.colLabel.classList.remove("focus"),e.target.classList.remove("edit")},keyWest:function(e){var t=document.getSelection();if(e.target.textContent===t.toString()||0===t.focusOffset){for(var i=e.target.previousElementSibling;i&&i.style&&"none"===i.style.display;)i=i.previousElementSibling;return i?(i.focus&&i.focus(),i):i}return e.target},keyEast:function(e){var t=document.getSelection();if(e.target.textContent===t.toString()||t.focusOffset>=e.target.textContent.length){for(var i=e.target.nextElementSibling;i&&i.style&&"none"===i.style.display;)i=i.nextElementSibling;return i?(i.focus&&i.focus(),i):i}return e.target},keyEnter:function(e){e.preventDefault(),this.selectAll(this.cell),this.updateValue(e)},keyDelete:function(e){""===e.target.textContent&&setTimeout(this.updateValue(e),0)},mouseMove:function(e){this.cell.style.cursor=this.cell.offsetWidth-e.offsetX<15?"pointer":"text"},mouseDown:function(e){var t=this;0===e.button&&this.cell.offsetWidth-e.offsetX<15&&(e.preventDefault(),setTimeout(function(){t.$parent.$refs.panelFilter.showPanel(t)},0))}}},C={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("td",e._g({ref:"cell",staticClass:"cell column-filter",style:e.filterRowTop,attrs:{id:e.uid,contenteditable:"",ondragenter:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'",ondragover:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"-1"},on:{focus:e.onFocus,blur:e.onBlur,keydown:[function(t){return t.type.indexOf("key")||37===t.keyCode?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.keyWest.apply(null,arguments):null},function(t){return t.type.indexOf("key")||39===t.keyCode?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.keyEast.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.keyEnter.apply(null,arguments)}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.keyDelete.apply(null,arguments)},mousemove:e.mouseMove,mousedown:e.mouseDown}},e.listeners))},staticRenderFns:[]};var S=i("VU/8")(k,C,!1,function(e){i("RfMb")},"data-v-3a47cd86",null).exports,T={props:{nFilterCount:{type:Number,default:1e3},localizedLabel:{type:Object,default:function(){return{sortingAndFiltering:"Sorting And Filtering",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",near:"â‰’ Near",exactMatch:"= Exact Match",notMatch:"â‰  Not Match",greaterThan:"&gt; Greater Than",greaterThanOrEqualTo:"â‰¥ Greater Than or Equal To",lessThan:"&lt; Less Than",lessThanOrEqualTo:"â‰¤ Less Than Or Equal To",regularExpression:"~ Regular Expression",customFilter:"Custom Filter",listFirstNValuesOnly:function(e){return"List first "+e+" values only"},apply:"Apply"}}}},data:function(){return{show:!1,showDropdown:!1,processing:!1,columnFilterRef:null,inputFilter:"",inputFilterCondition:"",sortedUniqueValueList:[]}},computed:{filteredSortedUniqueValueList:function(){var e=this.inputFilter.toUpperCase();return this.sortedUniqueValueList.filter(function(t){return t.toUpperCase().startsWith(e)})},symbol:function(){switch(this.inputFilterCondition){case"":return"â‰’";case"<=":return"â‰¤";case">=":return"â‰¥";case"<>":return"â‰ ";default:return this.inputFilterCondition}}},methods:{clickOutside:function(e){"panelModal"===e.target.id&&this.hidePanel()},sort:function(e){this.hidePanel(),this.$parent.sort(e,this.columnFilterRef.colPos)},setFilterCondition:function(e){this.showDropdown=!1,this.inputFilterCondition=e,this.$refs.inputFilter.focus()},freezePanelSizeAfterShown:function(){var e=this.$refs.panelList,t=e.getBoundingClientRect();e.setAttribute("style","width:"+t.width+"px; height:"+t.height+"px;")},removePanelSizeAfterHide:function(){this.$refs.panelList.removeAttribute("style")},doInputFilter:function(){var e=this;window.delay&&clearTimeout(window.delay),window.delay=setTimeout(function(){e.inputFilter=e.$refs.inputFilter.value},200)},doFilter:function(){var e=this.inputFilterCondition+this.$refs.inputFilter.value;this.columnFilterRef.$el.textContent=e,this.columnFilterRef.$emit("input",e),this.hidePanel()},filterPanelSelect:function(e){this.columnFilterRef.$el.textContent="="+e,this.columnFilterRef.$emit("input","="+e),this.hidePanel()},showPanel:function(e){var t=this;this.columnFilterRef=e,this.inputFilter="",this.inputFilterCondition="",this.sortedUniqueValueList=[],this.$refs.inputFilter.value="",""!=this.columnFilterRef.$el.textContent&&(this.columnFilterRef.$el.textContent="",this.columnFilterRef.$emit("input",""),this.$parent.calTable()),setTimeout(function(){t.show=!0,setTimeout(function(){return t.$refs.inputFilter.focus()});var i={},n=t.$parent.fields[e.colPos].name;t.$parent.table.forEach(function(e){return i[e[n]]=!0});var s=b()(i);s.sort(),s.length>0&&""===s[0]&&(s[0]=" "),t.sortedUniqueValueList=s,setTimeout(function(){return t.freezePanelSizeAfterShown()})})},hidePanel:function(){var e=this;this.show=!1,this.removePanelSizeAfterHide(),setTimeout(function(){e.sortedUniqueValueList=[]},0)}}},E={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"panel-modal",attrs:{id:"panelModal"},on:{click:e.clickOutside,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hidePanel.apply(null,arguments)}}},[i("div",{ref:"panelFilter",staticClass:"panel-body"},[i("div",{staticClass:"panel-title"},[i("svg",{staticClass:"svg-inline--fa fa-sort-amount-down fa-w-16 fa-1x",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-amount-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.sortingAndFiltering)}})]),e._v(" "),i("div",{staticClass:"panel-content"},[i("div",{staticClass:"panel-action"},[i("button",{staticClass:"panel-button float-left",on:{click:function(t){return e.sort(1)}}},[i("svg",{staticClass:"svg-inline--fa fa-sort-alpha-down fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-alpha-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[i("path",{attrs:{fill:"currentColor",d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.sortAscending)}})]),e._v(" "),i("button",{staticClass:"panel-button float-right",on:{click:function(t){return e.sort(-1)}}},[i("svg",{staticClass:"svg-inline--fa fa-sort-alpha-up-alt fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-alpha-up-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[i("path",{attrs:{fill:"currentColor",d:"M16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160zm272 64h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 65.63V48a16 16 0 0 0-16-16H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 190.37V208a16 16 0 0 0 16 16zm159.06 234.62l-59.27-160A16 16 0 0 0 372.72 288h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 480h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 480H432a16 16 0 0 0 15.06-21.38zM335.61 400L352 352l16.39 48z"}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.sortDescending)}})])]),e._v(" "),i("div",{staticClass:"panel-action"},[i("div",[i("button",{staticClass:"panel-input-button",on:{click:function(t){e.showDropdown=!e.showDropdown}}},[e._v(e._s(e.symbol))]),e._v(" "),i("div",{staticClass:"panel-dropdown",class:{show:e.showDropdown}},[i("div",{staticClass:"panel-dropdown-item",on:{click:function(t){return t.preventDefault(),e.setFilterCondition("")}}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.near)}})]),e._v(" "),i("div",{staticClass:"panel-dropdown-item",on:{click:function(t){return t.preventDefault(),e.setFilterCondition("=")}}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.exactMatch)}})]),e._v(" "),i("div",{staticClass:"panel-dropdown-item",on:{click:function(t){return t.preventDefault(),e.setFilterCondition("<>")}}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.notMatch)}})]),e._v(" "),i("div",{staticClass:"panel-dropdown-item",on:{click:function(t){return t.preventDefault(),e.setFilterCondition(">")}}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.greaterThan)}})]),e._v(" "),i("div",{staticClass:"panel-dropdown-item",on:{click:function(t){return t.preventDefault(),e.setFilterCondition(">=")}}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.greaterThanOrEqualTo)}})]),e._v(" "),i("div",{staticClass:"panel-dropdown-item",on:{click:function(t){return t.preventDefault(),e.setFilterCondition("<")}}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.lessThan)}})]),e._v(" "),i("div",{staticClass:"panel-dropdown-item",on:{click:function(t){return t.preventDefault(),e.setFilterCondition("<=")}}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.lessThanOrEqualTo)}})]),e._v(" "),i("div",{staticClass:"panel-dropdown-item",on:{click:function(t){return t.preventDefault(),e.setFilterCondition("~")}}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.regularExpression)}})])]),e._v(" "),i("span",{staticClass:"panel-input-b"},[i("input",{ref:"inputFilter",staticClass:"panel-input",attrs:{type:"text",placeholder:e.localizedLabel.customFilter,trim:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},on:{keyup:e.doInputFilter,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.doFilter.apply(null,arguments)}}})])])]),e._v(" "),i("div",[i("div",{ref:"panelList",staticClass:"panel-list"},e._l(e.filteredSortedUniqueValueList.slice(0,e.nFilterCount),function(t,n){return i("div",{key:n,staticClass:"panel-list-item",on:{click:function(i){return i.preventDefault(),e.filterPanelSelect(t)}}},[i("input",{staticClass:"panel-checkbox",attrs:{type:"checkbox"}}),e._v(" "),i("span",[e._v(e._s(t))])])}),0),e._v(" "),e.filteredSortedUniqueValueList.length>e.nFilterCount?i("div",{staticClass:"normal-text",staticStyle:{float:"right"}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.listFirstNValuesOnly(e.nFilterCount))}})]):e._e()])]),e._v(" "),i("div",{staticClass:"panel-footer"},[i("button",{staticClass:"panel-button",on:{click:e.doFilter}},[i("svg",{staticClass:"svg-inline--fa fa-sign-in-alt fa-w-16 fa-fw fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sign-in-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.apply)}})])])])])},staticRenderFns:[]};var F=i("VU/8")(T,E,!1,function(e){i("Dw01")},"data-v-8d796cee",null).exports,R=i("w/TU"),L={components:{draggable:i.n(R).a},props:{value:Array,localizedLabel:{type:Object,default:function(){return{tableSetting:"Table Setting",exportExcel:"Export Excel",importExcel:"Import Excel",back:"Back",reset:"Default"}}}},data:function(){return{show:!1,processing:!1}},computed:{fields:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{reset:function(){this.$parent.resetColumn(),this.hidePanel()},clickOutside:function(e){"panelModal"===e.target.id&&this.hidePanel()},columnLabelClick:function(e,t){t.invisible=!t.invisible,setTimeout(this.$parent.calStickyLeft)},freezePanelSizeAfterShown:function(){var e=this.$refs.panelList,t=e.getBoundingClientRect();e.setAttribute("style","width:"+t.width+"px; height:"+t.height+"px;")},removePanelSizeAfterHide:function(){this.$refs.panelList.removeAttribute("style")},exportTable:function(e){this.hidePanel(),this.$parent.exportTable(e)},importTable:function(){this.hidePanel(),this.$parent.importTable()},showPanel:function(){var e=this;this.show=!0,setTimeout(function(){return e.$refs.button.focus()}),setTimeout(function(){return e.freezePanelSizeAfterShown()})},hidePanel:function(){this.show=!1,this.removePanelSizeAfterHide()}}},B={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"panel-modal",attrs:{id:"panelModal"},on:{click:e.clickOutside,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hidePanel.apply(null,arguments)}}},[i("div",{ref:"panelSetting",staticClass:"panel-body"},[i("div",{staticClass:"panel-title"},[i("svg",{staticClass:"svg-inline--fa fa-bars fa-w-14 fa-1x",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"bars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[i("path",{attrs:{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.tableSetting)}})]),e._v(" "),i("div",{staticClass:"panel-content"},[i("div",{staticClass:"panel-action"},[i("button",{staticClass:"panel-button float-left no-margin",on:{click:function(t){return e.exportTable("excel")}}},[i("svg",{staticClass:"svg-inline--fa fa-file-excel fa-w-12",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"file-excel",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"}},[i("path",{attrs:{fill:"currentColor",d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.exportExcel)}})]),e._v(" "),i("button",{staticClass:"panel-button float-right no-margin",on:{click:e.importTable}},[i("svg",{staticClass:"svg-inline--fa fa-file-csv fa-w-12",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"file-csv",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"}},[i("path",{attrs:{fill:"currentColor",d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-96 144c0 4.42-3.58 8-8 8h-8c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h8c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-8c-26.51 0-48-21.49-48-48v-32c0-26.51 21.49-48 48-48h8c4.42 0 8 3.58 8 8v16zm44.27 104H160c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h12.27c5.95 0 10.41-3.5 10.41-6.62 0-1.3-.75-2.66-2.12-3.84l-21.89-18.77c-8.47-7.22-13.33-17.48-13.33-28.14 0-21.3 19.02-38.62 42.41-38.62H200c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-12.27c-5.95 0-10.41 3.5-10.41 6.62 0 1.3.75 2.66 2.12 3.84l21.89 18.77c8.47 7.22 13.33 17.48 13.33 28.14.01 21.29-19 38.62-42.39 38.62zM256 264v20.8c0 20.27 5.7 40.17 16 56.88 10.3-16.7 16-36.61 16-56.88V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v20.8c0 35.48-12.88 68.89-36.28 94.09-3.02 3.25-7.27 5.11-11.72 5.11s-8.7-1.86-11.72-5.11c-23.4-25.2-36.28-58.61-36.28-94.09V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8zm121-159L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.importExcel)}})])]),e._v(" "),i("div",[i("div",{ref:"panelList",staticClass:"panel-list"},[i("draggable",{attrs:{draggable:".panel-list-item"},model:{value:e.fields,callback:function(t){e.fields=t},expression:"fields"}},e._l(e.fields,function(t,n){return i("div",{key:n,staticClass:"panel-list-item",on:{click:function(i){return i.preventDefault(),e.columnLabelClick(i,t)}}},[i("input",{staticClass:"panel-checkbox",attrs:{type:"checkbox",disabled:!0},domProps:{checked:!t.invisible}}),e._v(" "),i("span",[e._v(e._s(t.label))])])}),0)],1)])]),e._v(" "),i("div",{staticClass:"panel-footer"},[i("button",{ref:"button",staticClass:"panel-button",on:{click:e.reset}},[i("svg",{staticClass:"svg-inline--fa fa-save fa-w-14 fa-fw fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"save",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[i("path",{attrs:{fill:"currentColor",d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.reset)}})]),e._v(" "),i("button",{ref:"button",staticClass:"panel-button",on:{click:e.hidePanel}},[i("svg",{staticClass:"svg-inline--fa fa-sign-in-alt fa-w-16 fa-fw fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sign-in-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.back)}})])])])])},staticRenderFns:[]};var $=i("VU/8")(L,B,!1,function(e){i("NWSX")},"data-v-59ad407e",null).exports,z={props:{localizedLabel:{type:Object,default:function(){return{}}}},data:function(){return{show:!1,processing:!1,inputFind:""}},methods:{clickOutside:function(e){"panelModal"===e.target.id&&this.hidePanel()},doFind:function(e,t){t&&t.preventDefault(),this.hidePanel(),this.$parent.doFind(this.inputFind)},showPanel:function(){var e=this;this.show=!0,setTimeout(function(){return e.$refs.inputFind.focus()})},hidePanel:function(){this.show=!1}}},P={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"panel-modal",attrs:{id:"panelModal"},on:{click:e.clickOutside,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hidePanel.apply(null,arguments)}}},[i("div",{ref:"panelFind",staticClass:"panel-body"},[i("div",[i("span",{staticClass:"panel-input-b"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputFind,expression:"inputFind"}],ref:"inputFind",staticClass:"panel-input",attrs:{type:"text",trim:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.inputFind},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.doFind(e.inputFind,t)},input:function(t){t.target.composing||(e.inputFind=t.target.value)}}})]),e._v(" "),i("button",{staticClass:"panel-input-button",on:{click:function(t){return e.doFind(e.inputFind)}}},[i("svg",{staticClass:"svg-inline--fa fa-search fa-w-16 fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}})])])])])])},staticRenderFns:[]};var M=i("VU/8")(z,P,!1,function(e){i("DDxJ")},"data-v-d3a6fe74",null).exports,D=i("trBP"),O=i("uXZL"),I=i.n(O),N=(i("1QwG"),{components:{"vue-excel-filter":S,"panel-filter":F,"panel-setting":$,"panel-find":M,"date-picker":D.a},props:{disablePanelSetting:{type:Boolean,default:function(){return!1}},disablePanelFilter:{type:Boolean,default:function(){return!1}},value:{type:Array,default:function(){return[]}},rowStyle:{type:Function,default:function(){return{}}},cellStyle:{type:Function,default:function(){return{}}},headerLabel:{type:Function,default:function(e){return e}},recordLabel:{type:Function,default:function(e){return e}},noFinding:{type:Boolean,default:!1},noFindingNext:{type:Boolean,default:!1},filterRow:{type:Boolean,default:!1},freeSelect:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noPaging:{type:Boolean,default:!1},noNumCol:{type:Boolean,default:!1},noMouseScroll:{type:Boolean,default:!1},page:{type:Number,default:0},enterToSouth:{type:Boolean,default:!1},nFilterCount:{type:Number,default:1e3},height:{type:String,default:""},width:{type:String,default:"100%"},autocomplete:{type:Boolean,default:!1},autocompleteCount:{type:Number,default:50},readonly:{type:Boolean,default:!1},readonlyStyle:{type:Object,default:function(){return{}}},remember:{type:Boolean,default:!1},register:{type:Function,default:null},allowAddCol:{type:Boolean,default:!1},noHeaderEdit:{type:Boolean,default:!1},addColumn:{type:Function,default:null},spellcheck:{type:Boolean,default:!1},newIfBottom:{type:Boolean,default:!1},validate:{type:Function,default:null},localizedLabel:{type:Object,default:function(){return{footerLeft:function(e,t,i){return"Record "+e+" to "+t+" of "+i},first:"First",previous:"Previous",next:"Next",last:"Last",footerRight:{selected:"Selected:",filtered:"Filtered:",loaded:"Loaded:"},processing:"Processing",tableSetting:"Table Setting",exportExcel:"Export Excel",importExcel:"Import Excel",back:"Back",reset:"Default",sortingAndFiltering:"Sorting And Filtering",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",near:"â‰’ Near",exactMatch:"= Exact Match",notMatch:"â‰  Not Match",greaterThan:"&gt; Greater Than",greaterThanOrEqualTo:"â‰¥ Greater Than or Equal To",lessThan:"&lt; Less Than",lessThanOrEqualTo:"â‰¤ Less Than Or Equal To",regularExpression:"~ Regular Expression",customFilter:"Custom Filter",listFirstNValuesOnly:function(e){return"List first "+e+" values only"},apply:"Apply",noRecordIsRead:"No record is read",readonlyColumnDetected:"Readonly column detected",columnHasValidationError:function(e,t){return"Column "+e+" has validation error: "+t},rowHasValidationError:function(e,t,i){return"Row "+e+" has validation error for column "+t+": "+i},noMatchedColumnName:"No matched column name",invalidInputValue:"Invalid input value",missingKeyColumn:"Missing key column",noRecordIndicator:"No record"}}},recordFilter:{type:Function,default:function(){return!0}}},data:function(){return{version:"1.3",tableContent:null,systable:null,colgroupTr:null,labelTr:null,filterTr:null,recordBody:null,footer:null,pageSize:this.noPaging?999999:20,pageTop:0,selected:{},selectedCount:0,prevSelect:-1,processing:!1,rowIndex:{},currentRecord:null,currentRowPos:0,currentColPos:0,currentField:null,currentCell:null,inputBox:null,inputBoxShow:0,inputSquare:null,autocompleteInputs:[],autocompleteSelect:-1,errmsg:{},rowerr:{},tip:"",colHash:"",fields:[],focused:!1,mousein:!1,inputBoxChanged:!1,columnFilter:{},inputFind:"",calCellLeft:0,calCellTop:0,calCellTop2:29,frontdrop:null,sortPos:0,sortDir:0,redo:[],lazyTimeout:{},lazyBuffer:{},hScroller:{},vScroller:{},leftMost:0,showDatePicker:!1,inputDateTime:"",table:[],filteredValue:[],lastFilterTime:"",summaryRow:!1,summary:{},showFilteredOnly:!0,showSelectedOnly:!1}},computed:{token:function(){return"vue-excel-editor-"+w()(document.querySelectorAll(".vue-excel-editor")).indexOf(this.$el)},columnFilterString:function(){var e=this;return b()(this.columnFilter).forEach(function(t){""===e.columnFilter[t].trim()&&delete e.columnFilter[t]}),m()(this.columnFilter)},pagingTable:function(){return this.table.slice(this.pageTop,this.pageTop+this.pageSize)},pageBottom:function(){return 0===this.filteredValue.length?0:this.pageTop+this.pageSize>this.table.length?this.table.length:this.pageTop+this.pageSize},setting:{get:function(){return null},set:function(e){var t=this;if(e.fields){if(e.fields.length!==this.fields.length)return;var i=!0,n=e.fields.map(function(e){var n=t.fields.find(function(t){return t.name===e.name});return n?(void 0!==e.invisible&&(n.invisible=e.invisible),void 0!==e.width&&(n.width=e.width),void 0!==e.label&&(n.label=e.label)):i=!1,n});i&&(this.fields=n,this.$forceUpdate())}}}},watch:{value:function(){var e=this;this.lazy(function(){e.refresh(),e.pageTop>e.table.length&&e.lastPage()})},columnFilterString:function(){var e=this;this.lastFilterTime=String((new Date).getTime()%1e8),this.processing=!0,setTimeout(function(){e.pageTop=0,e.refresh(),e.processing=!1},0)},fields:{handler:function(){var e=this;this.lazy(function(){var t=e.getSetting();e.remember&&(localStorage[window.location.pathname+"."+e.token]=m()(t)),e.$emit("setting",t)})},deep:!0},processing:function(e){if(e){var t=this.$el.children[0].getBoundingClientRect();this.frontdrop.style.top=t.top+"px",this.frontdrop.style.left=t.left+"px",this.frontdrop.style.height=t.height+"px",this.frontdrop.style.width=t.width+"px"}},pageTop:function(e){this.$emit("page-changed",e,e+this.pageSize-1)},pageSize:function(e){this.$emit("page-changed",this.pageTop,this.pageTop+e-1)}},beforeDestroy:function(){window.removeEventListener("resize",this.winResize),window.removeEventListener("paste",this.winPaste),window.removeEventListener("keydown",this.winKeydown),window.removeEventListener("keyup",this.winKeyup),window.removeEventListener("scroll",this.winScroll),window.removeEventListener("wheel",this.mousewheel)},mounted:function(){var e=this;if(this.tableContent=this.$refs.tableContent,this.systable=this.$refs.systable,this.colgroupTr=this.systable.children[0],this.labelTr=this.systable.children[1].children[0],this.filterTr=this.systable.children[1].children[1],this.recordBody=this.systable.children[2],this.footer=this.$refs.footer,this.inputSquare=this.$refs.inputSquare,this.inputBox=this.$refs.inputBox,this.frontdrop=this.$refs.frontdrop,this.height&&(this.systable.parentNode.style.height=this.height),this.reset(),this.lazy(function(){e.labelTr.children[0].style.height=e.labelTr.offsetHeight+"px",e.calCellTop2=e.labelTr.offsetHeight,e.refreshPageSize(),e.tableContent.scrollTo(0,e.tableContent.scrollTop),e.calStickyLeft()},200),window.addEventListener("resize",this.winResize),window.addEventListener("paste",this.winPaste),window.addEventListener("keydown",this.winKeydown),window.addEventListener("keyup",this.winKeyup),window.addEventListener("scroll",this.winScroll),window.addEventListener("wheel",this.mousewheel,{passive:!1}),this.remember){var t=localStorage[window.location.pathname+"."+this.token];if(t){var i=JSON.parse(t);i.colHash===this.colHash&&(this.setting=i)}}},methods:{componentTabInto:function(e){9===e.keyCode&&(this.moveInputSquare(this.currentRowPos,this.currentColPos)||this.moveInputSquare(0,0))},reset:function(){this.errmsg={},this.redo=[],this.showFilteredOnly=!0,this.showSelectedOnly=!1,this.columnFilter={},this.sortPos=0,this.sortDir=0,this.inputFind="",this.pageTop=0,this.selected={},this.selectedCount=0,this.prevSelect=-1,this.processing=!1,this.rowIndex={},this.refresh()},toggleSelectView:function(e){return e&&e.stopPropagation(),this.showSelectedOnly=!this.showSelectedOnly,this.refresh()},toggleFilterView:function(e){return e&&e.stopPropagation(),this.showFilteredOnly=!this.showFilteredOnly,this.refresh()},resetColumn:function(){this.fields=[],this.$slots.default.forEach(function(e){return e.componentInstance?e.componentInstance.init():0}),this.tableContent.scrollTo(0,this.tableContent.scrollTop),this.calStickyLeft()},registerColumn:function(e){var t=this.fields.findIndex(function(t){return t.pos>e.pos});-1===t&&(t=this.fields.length),this.fields.splice(t,0,e),this.register&&this.register(e,t),e.register&&e.register(e,t),e.summary&&(this.summaryRow=!0),this.colHash=this.hashCode(this.version+m()(this.fields))},insertColumn:function(e){var t="COL-"+Math.random().toString().slice(2,6),i={name:t,label:t,type:"string",width:"100px",validate:null,change:null,link:null,sort:null,keyField:!1,sticky:!1,allowKeys:null,mandatory:!1,lengthLimit:0,autocomplete:this.autocomplete,textTransform:null,initStyle:"left",invisible:!1,readonly:this.readonly,pos:0,options:null,summary:null,toValue:function(e){return e},toText:function(e){return e},register:null};this.addColumn&&(i=this.addColumn(i)),this.newColumn(i,e)},newColumn:function(e,t){this.fields.splice(t,0,e),this.register&&this.register(e,t),e.register&&e.register(e,t),e.summary&&(this.summaryRow=!0),this.colHash=this.hashCode(this.version+m()(this.fields))},autoRegisterAllColumns:function(e){var t=this,i=e.slice(0,25).reduce(function(e,t){return b()(t).map(function(i,n){return!e||t[i].length>e[n]?t[i].length:e[n]})},0).map(function(e){return Math.min(Math.max(8.2*e,55),250)});b()(e[0]).forEach(function(e,n){"$id"!==e&&t.registerColumn({name:e,label:e,type:i[n]?"string":"number",width:(i[n]?i[n]:75)+"px",validate:null,change:null,link:null,keyField:!1,sticky:!1,tabStop:!0,allowKeys:null,mandatory:!1,lengthLimit:0,autocomplete:t.autocomplete,initStyle:{textAlign:i[n]?"left":"right"},invisible:!1,readonly:t.readonly,pos:0,options:null,summary:null,sort:null,toValue:function(e){return e},toText:function(e){return e},register:null})})},refresh:function(){this.prevSelect=-1,0===this.fields.length&&this.value.length&&b()(this.value[0])&&this.autoRegisterAllColumns(this.value),this.calTable(),this.refreshPageSize()},calTable:function(){var e=this,t=String((new Date).getTime()%1e8);if(this.value.forEach(function(e,i){e.$id||(e.$id=t+"-"+("000000"+i).slice(-7))}),!1===this.showFilteredOnly)this.table=this.value;else{var i=b()(this.columnFilter),n={};i.forEach(function(t){switch(!0){case e.columnFilter[t].startsWith("<="):n[t]={type:1,value:e.columnFilter[t].slice(2).trim().toUpperCase()},"number"===e.fields[t].type&&(n[t].value=Number(n[t].value));break;case e.columnFilter[t].startsWith("<>"):n[t]={type:9,value:e.columnFilter[t].slice(2).trim().toUpperCase()};break;case e.columnFilter[t].startsWith("<"):n[t]={type:2,value:e.columnFilter[t].slice(1).trim().toUpperCase()},"number"===e.fields[t].type&&(n[t].value=Number(n[t].value));break;case e.columnFilter[t].startsWith(">="):n[t]={type:3,value:e.columnFilter[t].slice(2).trim().toUpperCase()},"number"===e.fields[t].type&&(n[t].value=Number(n[t].value));break;case e.columnFilter[t].startsWith(">"):n[t]={type:4,value:e.columnFilter[t].slice(1).trim().toUpperCase()},"number"===e.fields[t].type&&(n[t].value=Number(n[t].value));break;case e.columnFilter[t].startsWith("="):n[t]={type:0,value:e.columnFilter[t].slice(1).trim().toUpperCase()};break;case e.columnFilter[t].startsWith("*")&&e.columnFilter[t].endsWith("*"):n[t]={type:5,value:e.columnFilter[t].slice(1).slice(0,-1).trim().toUpperCase()};break;case e.columnFilter[t].startsWith("*")&&!e.columnFilter[t].slice(1).includes("*"):n[t]={type:6,value:e.columnFilter[t].slice(1).trim().toUpperCase()};break;case e.columnFilter[t].startsWith("~"):n[t]={type:8,value:e.columnFilter[t].slice(1).trim()};break;case e.columnFilter[t].endsWith("*")&&!e.columnFilter[t].slice(0,-1).includes("*"):n[t]={type:7,value:e.columnFilter[t].slice(0,-1).trim().toUpperCase()};break;case e.columnFilter[t].includes("*")||e.columnFilter[t].includes("?"):n[t]={type:8,value:"^"+e.columnFilter[t].replace(/\*/g,".*").replace(/\?/g,".").trim()+"$"};break;default:n[t]={type:5,value:e.columnFilter[t].trim().toUpperCase()}}}),this.filteredValue=this.value.filter(function(t){return e.recordFilter(t)}),0===i.length?this.table=this.filteredValue:this.table=this.filteredValue.filter(function(t){if(t.$id>e.lastFilterTime)return!0;var s={};i.forEach(function(i){var r=t[e.fields[i].name];"number"===e.fields[i].type&&n[i].type<=4?s[i]=r:s[i]=void 0===r||null===r?"":String(r).toUpperCase()});for(var r=0;r<i.length;r++){var o=i[r];switch(n[o].type){case 0:if(""+s[o]!=""+n[o].value)return!1;break;case 1:if(n[o].value<s[o])return!1;break;case 2:if(n[o].value<=s[o])return!1;break;case 3:if(n[o].value>s[o])return!1;break;case 4:if(n[o].value>=s[o])return!1;break;case 5:if(!s[o].includes(n[o].value))return!1;break;case 6:if(!s[o].endsWith(n[o].value))return!1;break;case 7:if(!s[o].startsWith(n[o].value))return!1;break;case 8:if(!new RegExp(n[o].value,"i").test(s[o]))return!1;break;case 9:if(""+s[o]==""+n[o].value)return!1}}return!0})}this.reviseSelectedAfterTableChange(),this.showSelectedOnly&&(this.table=this.table.filter(function(t,i){return e.selected[i]}),this.reviseSelectedAfterTableChange()),this.calSummary()},calStickyLeft:function(){var e=this,t=0,i=0;this.leftMost=-1,w()(this.labelTr.children).forEach(function(n){t+=n.offsetWidth;var s=e.fields[i++];s&&(s.sticky?(s.left=t+"px",e.leftMost=-1):-1===e.leftMost&&(e.leftMost=t))}),this.$forceUpdate()},renderColumnCellStyle:function(e){var t=e.initStyle;return e.readonly&&(t=f()(t,this.readonlyStyle)),e.left&&(t=f()(t,{left:e.left})),t},localeDate:function(e){void 0===e&&(e=new Date);var t=function(e){return e<10?"0"+e:e};return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())},calSummary:function(e){var t=this;this.fields.forEach(function(i){if(i.summary){var n=i.name;if(!e||e===n){var s="",r=(new Date).getTime(),o=t.localeDate(),a=o.slice(0,19),l=o.slice(0,10);switch(i.summary){case"sum":s=t.table.reduce(function(e,t){return e+Number(t[n]?t[n]:0)},0),s=Number(Math.round(s+"e+5")+"e-5");break;case"avg":s=t.table.reduce(function(e,t){return e+Number(t[n]?t[n]:0)},0)/t.table.length,s=Number(Math.round(s+"e+5")+"e-5");break;case"max":s=t.table.reduce(function(e,t){return e>t[n]?e:t[n]},Number.MIN_VALUE);break;case"min":s=t.table.reduce(function(e,t){return e<t[n]?e:t[n]},Number.MAX_VALUE);break;case"count":switch(i.type){case"checkYN":s=t.table.reduce(function(e,t){return e+("Y"===t[n]?1:0)},0);break;case"check10":s=t.table.reduce(function(e,t){return e+("1"===t[n]?1:0)},0);break;case"checkTF":s=t.table.reduce(function(e,t){return e+("T"===t[n]?1:0)},0);break;case"date":return s=t.table.reduce(function(e,t){return e+(t[n]>=l?1:0)},0),void(t.summary[n]=s);case"datetime":return s=t.table.reduce(function(e,t){return e+(t[n]>=a?1:0)},0),void(t.summary[n]=s);case"datetimesec":return s=t.table.reduce(function(e,t){return e+(t[n]>=o?1:0)},0),void(t.summary[n]=s);case"datetick":case"datetimetick":case"datetimesectick":return s=t.table.reduce(function(e,t){return e+(t[n]>=r?1:0)},0),void(t.summary[n]=s);default:s=t.table.reduce(function(e,t){return e+(t[n]?1:0)},0)}}"number"===i.type&&isNaN(s)||(t.summary[n]=i.toText(s))}}})},getKeys:function(e){e||(e=this.currentRecord);var t=this.fields.filter(function(e){return e.keyField}).map(function(t){return e[t.name]});return t.length&&""!==t.join()?t:[e.$id]},getFieldByName:function(e){return this.fields.find(function(t){return t.name===e})},getFieldByLabel:function(e){return this.fields.find(function(t){return t.label===e})},setFilter:function(e,t){var i=this.$refs["filter-"+e][0];i.$el.textContent=t,i.$emit("input",t)},clearFilter:function(e){e?this.setFilter(e,""):this.columnFilter={}},columnSuppress:function(){if(0!==this.table.length){var e={};this.table.forEach(function(t){b()(t).forEach(function(i){t[i]&&(e[i]=1)})});var t=b()(e);this.fields.forEach(function(e){t.includes(e.name)||(e.invisible=!0)})}},columnAutoWidth:function(e){if(0!==this.table.length){var t=this.fields;e&&(t=[this.fields.find(function(t){return t.name===e})]);var i={};this.table.forEach(function(e){t.forEach(function(t){e[t.name]&&(!i[t.name]||i[t.name]<e[t.name].length)&&(i[t.name]=e[t.name].length)})}),t.forEach(function(e){var t=12*i[e.name];t>450&&(t=450),e.width=t+"px"})}},showDatePickerDiv:function(){var e=this;if(this.$refs.dpContainer){var t=this.currentCell.getBoundingClientRect();this.$refs.dpContainer.style.left=t.left+"px",this.$refs.dpContainer.style.top=t.bottom+"px",this.inputDateTime=this.currentCell.textContent,this.showDatePicker=!0,this.lazy(function(){if(e.$refs.dpContainer){var i=e.$refs.dpContainer.getBoundingClientRect();i.bottom>window.innerHeight&&(e.$refs.dpContainer.style.top=t.top-i.height+"px"),i.right>window.innerWidth&&(e.$refs.dpContainer.style.left=window.innerWidth-i.width+"px")}})}},datepickerClick:function(){this.inputBox.value=this.inputDateTime,this.inputBoxShow=0,this.inputCellWrite(this.inputDateTime),this.showDatePicker=!1,this.focused=!0},calVScroll:function(){var e=this.labelTr.getBoundingClientRect().height;this.filterRow&&(e+=29),this.vScroller.top=e,this.noFooter||(e+=25),this.summaryRow&&(e+=27);var t=this.$el.getBoundingClientRect().height;this.vScroller.height=t-e;var i=this.vScroller.height/(24*this.table.length);this.vScroller.buttonHeight=Math.max(24,this.vScroller.height*i);var n=(this.tableContent.scrollTop+24*this.pageTop)/(24*this.table.length-this.vScroller.height);this.vScroller.buttonTop=(this.vScroller.height-this.vScroller.buttonHeight)*n,this.$forceUpdate()},vsMouseDown:function(e){e.stopPropagation();var t=e.offsetY-this.vScroller.buttonHeight/2,i=Math.max(0,t);i=Math.min(i,this.vScroller.height-this.vScroller.buttonHeight),i/=this.vScroller.height-this.vScroller.buttonHeight,this.noPaging?this.tableContent.scrollTo(this.tableContent.scrollLeft,24*this.table.length*i):(this.vScroller.buttonTop=i*(this.vScroller.height-this.vScroller.buttonHeight),this.$refs.vScrollButton.style.marginTop=this.vScroller.buttonTop+"px",this.pageTop=Math.round((this.table.length-this.pageSize)*i))},vsbMouseDown:function(e){e.stopPropagation(),this.vScroller.mouseY||(this.vScroller.saveButtonTop=this.vScroller.buttonTop,this.vScroller.mouseY=e.clientY,window.addEventListener("mousemove",this.vsbMouseMove),window.addEventListener("mouseup",this.vsbMouseUp),this.$refs.vScrollButton.classList.add("focus"))},vsbMouseUp:function(){var e=this;if(window.removeEventListener("mousemove",this.vsbMouseMove),window.removeEventListener("mouseup",this.vsbMouseUp),this.lazy(function(){e.$refs.vScrollButton&&e.$refs.vScrollButton.classList.remove("focus")}),this.vScroller.mouseY=0,!this.noPaging){var t=this.vScroller.buttonTop/(this.vScroller.height-this.vScroller.buttonHeight);this.pageTop=Math.round((this.table.length-this.pageSize)*t)}this.vScroller.runner="",this.$forceUpdate()},vsbMouseMove:function(e){var t=this;if(0===e.buttons)this.vsbMouseUp();else{var i=e.clientY-this.vScroller.mouseY;if(this.noPaging){var n=(this.vScroller.saveButtonTop+i)/(this.vScroller.height-this.vScroller.buttonHeight);this.tableContent.scrollTo(this.tableContent.scrollLeft,24*this.table.length*n)}else{this.vScroller.buttonTop=Math.max(0,Math.min(this.vScroller.height-this.vScroller.buttonHeight,this.vScroller.saveButtonTop+i)),this.$refs.vScrollButton.style.marginTop=this.vScroller.buttonTop+"px";var s=this.vScroller.buttonTop/(this.vScroller.height-this.vScroller.buttonHeight),r=Math.round((this.table.length-this.pageSize)*s)+1,o=this.table[r];this.vScroller.runner=r+"<br>"+this.fields.filter(function(e,i){return e.keyField||e.sticky||t.sortPos===i}).map(function(e){return e.label+": "+o[e.name]}).join("<br>"),this.$forceUpdate()}}},ftMouseDown:function(e){var t=this.footer.getBoundingClientRect(),i=(e.x-t.left-40)/(t.width-40),n=this.systable.getBoundingClientRect().width,s=this.tableContent.getBoundingClientRect().width;this.tableContent.scrollTo(n*i-s/2,this.tableContent.scrollTop)},sbMouseDown:function(e){if(e.stopPropagation(),!this.hScroller.mouseX){var t=this.$refs.hScroll.getBoundingClientRect().left,i=this.footer.getBoundingClientRect().left+40;this.hScroller.left=t-i,this.hScroller.mouseX=e.clientX,window.addEventListener("mousemove",this.sbMouseMove),window.addEventListener("mouseup",this.sbMouseUp),this.$refs.hScroll.classList.add("focus")}},sbMouseUp:function(){var e=this;window.removeEventListener("mousemove",this.sbMouseMove),window.removeEventListener("mouseup",this.sbMouseUp),this.lazy(function(){e.$refs.hScroll&&e.$refs.hScroll.classList.remove("focus")}),this.hScroller.mouseX=0,this.$forceUpdate()},sbMouseMove:function(e){if(0===e.buttons)this.sbMouseUp();else{var t=e.clientX-this.hScroller.mouseX,i=(this.hScroller.left+t)/this.hScroller.scrollerUnseenWidth;this.tableContent.scrollTo(this.hScroller.tableUnseenWidth*i,this.tableContent.scrollTop)}},tableScroll:function(){var e=this;if(this.showDatePicker=!1,this.autocompleteInputs=[],this.focused&&this.currentField&&(this.inputSquare.style.marginLeft=(this.currentField.sticky?this.tableContent.scrollLeft-this.squareSavedLeft:0)+"px"),this.tableContent.scrollTop!==this.vScroller.lastTop&&(this.calVScroll(),this.$refs.vScrollButton&&(this.$refs.vScrollButton.classList.add("focus"),this.lazy(function(){return e.$refs.vScrollButton.classList.remove("focus")},1e3))),this.vScroller.lastTop=this.tableContent.scrollTop,this.tableContent.scrollLeft!==this.hScroller.lastLeft&&this.$refs.hScroll&&this.hScroller.tableUnseenWidth){this.$refs.hScroll.classList.add("focus"),this.lazy(function(){return e.$refs.hScroll.classList.remove("focus")},1e3);var t=this.tableContent.scrollLeft/this.hScroller.tableUnseenWidth;this.$refs.hScroll.style.left=this.hScroller.scrollerUnseenWidth*t+"px"}this.hScroller.lastLeft=this.tableContent.scrollLeft},winScroll:function(){this.showDatePicker=!1,this.autocompleteInputs=[]},mousewheel:function(e){var t=this;if(!this.noMouseScroll&&this.mousein&&e.deltaY){var i=0;return e.deltaY>30&&this.pageTop+this.pageSize<this.table.length?i=1:e.deltaY<-30&&this.pageTop>0&&(i=-1),i&&(this.pageTop+=i,setTimeout(this.calVScroll),this.$refs.vScrollButton&&(this.$refs.vScrollButton.classList.add("focus"),this.lazy(function(){return t.$refs.vScrollButton.classList.remove("focus")},1e3))),e.preventDefault(),e.stopPropagation(),!1}},winResize:function(){this.lazy(this.refreshPageSize,200)},winPaste:function(e){if("TEXTAREA"===e.target.tagName&&(this.mousein||this.focused)&&this.currentField&&!this.currentField.readonly)if(this.inputBoxShow)this.inputBoxChanged=!0;else{var t=(e.originalEvent||e).clipboardData.getData("text/plain");this.inputCellWrite(t),e.preventDefault()}},winKeyup:function(e){e.altKey||this.systable.classList.remove("alt")},winKeydown:function(e){var t=this;if(e.altKey&&this.systable.classList.add("alt"),this.mousein||this.focused)if(e.ctrlKey||e.metaKey)switch(e.keyCode){case 90:this.undoTransaction(),e.preventDefault();break;case 65:this.toggleSelectAllRecords(),e.preventDefault();break;case 67:this.inputBox.value=this.currentCell.textContent,this.inputBox.focus(),this.inputBox.select(),document.execCommand("copy"),e.preventDefault();break;case 70:this.noFinding||(this.$refs.panelFind.showPanel(),e.preventDefault());break;case 71:this.noFindingNext||""===this.inputFind||(this.doFindNext(),e.preventDefault());break;case 76:e.preventDefault(),this.calAutocompleteList(!0)}else{if(this.currentRowPos<0)return;switch(e.keyCode){case 37:if(!this.focused)return;this.inputBoxShow?0===this.inputBox.selectionStart&&(this.moveWest(e),e.preventDefault()):(this.moveWest(e),e.preventDefault());break;case 38:if(!this.focused)return;if(e.preventDefault(),0===this.autocompleteInputs.length)this.moveNorth();else if(this.autocompleteSelect>0){this.autocompleteSelect--;var i=23*this.autocompleteSelect;i<this.$refs.autocomplete.scrollTop&&(this.$refs.autocomplete.scrollTop=i)}else-1===this.autocompleteSelect&&(this.autocompleteSelect=0);break;case 9:if(!this.focused)return;if(e.shiftKey){if(!this.moveWest(e)){if(!this.moveNorth(e))return this.inputBoxBlur();this.moveToEast(e)}}else if(!this.moveEast(e)){if(!this.moveSouth(e))return this.inputBoxBlur();this.moveToWest(e)}e.preventDefault();break;case 39:if(!this.focused)return;this.inputBoxShow?this.inputBox.selectionEnd===this.inputBox.value.length&&(this.moveEast(e),e.preventDefault()):(this.moveEast(e),e.preventDefault());break;case 40:if(!this.focused)return;if(e.preventDefault(),0===this.autocompleteInputs.length)this.moveSouth(e);else if(this.autocompleteSelect<this.autocompleteInputs.length-1&&(this.autocompleteSelect++,this.autocompleteSelect>=10)){var n=23*this.autocompleteSelect-206;this.$refs.autocomplete.scrollTop<n&&(this.$refs.autocomplete.scrollTop=n)}break;case 13:if(!this.focused)return;e.preventDefault(),0===this.autocompleteInputs.length||-1===this.autocompleteSelect?this.enterToSouth?this.moveSouth(e):this.moveEast(e):-1!==this.autocompleteSelect&&this.autocompleteSelect<this.autocompleteInputs.length?this.inputAutocompleteText(this.autocompleteInputs[this.autocompleteSelect]):(this.inputBox.value=this.currentCell.textContent,this.inputBoxShow=0,this.inputBoxChanged=!1),this.inputBoxComplete();break;case 27:if(!this.focused)return;this.showDatePicker=!1,this.autocompleteInputs=[],this.autocompleteSelect=-1,this.inputBoxShow&&(e.preventDefault(),this.inputBox.value=this.currentCell.textContent,this.inputBoxShow=0,this.inputBoxChanged=!1);break;case 33:this.prevPage(),e.preventDefault();break;case 34:this.nextPage(),e.preventDefault();break;case 8:case 46:if(!this.focused)return;if(this.inputBoxShow)return this.inputBoxChanged=!0,void setTimeout(function(){return t.calAutocompleteList(!0)});if(this.currentField.readonly)return;if(this.autocompleteInputs.length)return;this.inputBoxChanged=!0,this.inputBox.value="",this.inputBoxComplete();break;default:if(!this.focused)return;if(this.currentField.readonly)return;if(e.altKey)return;if("Process"!==e.key&&e.key.length>1)return;if(!this.inputBoxShow&&"date"===this.currentField.type)return void this.showDatePickerDiv();if(this.currentField.allowKeys)if("Function"===this.currentField.allowKeys.constructor.name){if(!this.currentField.allowKeys(e.key.toUpperCase()))return e.preventDefault()}else if(-1===this.currentField.allowKeys.indexOf(e.key.toUpperCase()))return e.preventDefault();if(this.currentField.lengthLimit&&this.inputBox.value.length>=this.currentField.lengthLimit)return e.preventDefault();if(this.inputBoxShow)setTimeout(function(){return t.calAutocompleteList(t.autocompleteInputs.length)});else{if("select"===this.currentField.type||"map"===this.currentField.type)return setTimeout(function(){return t.calAutocompleteList(!0)}),32===e.keyCode?e.preventDefault():(this.inputBox.value="",this.inputBoxShow=1,void this.inputBox.focus());this.inputBox.value="",this.inputBoxShow=1,this.inputBox.focus(),setTimeout(this.calAutocompleteList)}this.inputBoxChanged=!0}}},colSepMouseDown:function(e){if(e.preventDefault(),e.stopPropagation(),this.allowAddCol&&!e.target.classList.contains("col-sep")){e.target.style.display="none";var t=e.target.parentElement.parentElement,i=w()(t.parentElement.children).findIndex(function(e){return e===t});this.insertColumn(i)}this.focused=!1;var n=function(e,t){window.getComputedStyle(e,null).getPropertyValue(t)};this.sep={},this.sep.curCol=this.colgroupTr.children[w()(this.labelTr.children).indexOf(e.target.parentElement)-(this.noNumCol?1:0)],this.sep.pageX=e.pageX;var s=0;if("border-box"!==n(this.sep.curCol,"box-sizing")){var r=n(this.sep.curCol,"padding-left"),o=n(this.sep.curCol,"padding-right");r&&o&&(s=parseInt(r)+parseInt(o))}this.sep.curColWidth=e.target.parentElement.offsetWidth-s,window.addEventListener("mousemove",this.colSepMouseMove),window.addEventListener("mouseup",this.colSepMouseUp)},colSepMouseOver:function(e){e.target.classList.contains("col-sep")?(e.target.style.borderRight="5px solid #cccccc",e.target.style.height=this.systable.getBoundingClientRect().height+"px",this.allowAddCol&&(e.target.children[0].style.display="block")):(this.addColBtnTimeout&&clearTimeout(this.addColBtnTimeout),this.allowAddCol&&(e.target.style.display="block"))},colSepMouseOut:function(e){e.target.classList.contains("col-sep")?(e.target.style.borderRight="5px solid transparent",e.target.style.height="100%",this.addColBtnTimeout=setTimeout(function(){e.target.children[0].style.display="none"},500)):e.target.style.display="none"},colSepMouseMove:function(e){if(this.sep&&this.sep.curCol){var t=e.pageX-this.sep.pageX;this.sep.curCol.style.width=this.sep.curColWidth+t+"px",this.lazy(this.calStickyLeft,200)}},colSepMouseUp:function(e){e.preventDefault(),e.stopPropagation(),delete this.sep,window.removeEventListener("mousemove",this.colSepMouseMove),window.removeEventListener("mouseup",this.colSepMouseUp);var t=this.getSetting();this.remember&&(localStorage[window.location.pathname+"."+this.token]=m()(t)),this.$emit("setting",t)},doFindNext:function(){return this.doFind()},doFind:function(e){var t=this;void 0===e?e=this.inputFind:this.inputFind=e,e=e.toUpperCase();for(var i=Math.max(0,this.currentRowPos),n=function(n){for(var s=t.table[n],r=function(i){var r=t.fields[i].name;if(void 0!==s[r]&&String(s[r]).toUpperCase().indexOf(e)>=0)return t.pageTop=t.findPageTop(n),setTimeout(function(){t.moveInputSquare(n-t.pageTop,i),setTimeout(function(){return t.inputBox.focus()}),t.focused=!0}),{v:{v:!0}}},o=n===i+t.pageTop?t.currentColPos+1:0;o<t.fields.length;o++){var a=r(o);if("object"===(void 0===a?"undefined":h()(a)))return a.v}},s=i+this.pageTop;s<this.table.length;s++){var r=n(s);if("object"===(void 0===r?"undefined":h()(r)))return r.v}for(s=0;s<=i+this.pageTop;s++)for(var o=this.table[s],a=0;a<(s===i+this.pageTop?this.currentColPos:this.fields.length);a++){var l=this.fields[a].name;if(void 0!==o[l]&&String(o[l]).toUpperCase().indexOf(e)>=0)return this.pageTop=this.findPageTop(s),this.moveInputSquare(s-this.pageTop,a),setTimeout(function(){t.focused=!0}),!0}return!1},findPageTop:function(e){for(var t=this.pageTop;t<this.table.length;t+=this.pageSize)if(e>=t&&e<t+this.pageSize)return t;for(var i=this.pageTop;i>0;i-=this.pageSize)if(e>=i&&e<i+this.pageSize)return i;return this.pageTop},headerClick:function(e,t){if(!this.noHeaderEdit&&"SPAN"===e.target.tagName)return e.target.contentEditable=!0,void e.target.addEventListener("focusout",this.completeHeaderChange);1===e.which&&(e.preventDefault(),this.sortPos===t&&this.sortDir>0?this.sort(-1,t):this.sort(1,t))},completeHeaderChange:function(e){var t=e.target.parentElement.parentElement,i=w()(t.parentElement.children).findIndex(function(e){return e===t});this.fields[i-1].label=e.target.textContent},sort:function(e,t){var i=this;this.processing=!0;var n=void 0===t?this.columnFilterRef.colPos:t,s=this.fields[n],r=s.name;setTimeout(function(){var t=s.sort;null===t&&(t="number"===s.type?function(e,t){return Number(e[r])>Number(t[r])?1:Number(e[r])<Number(t[r])?-1:0}:function(e,t){return String(e[r]).localeCompare(String(t[r]))}),i.value.sort(function(i,n){return t(i,n)*-e}),i.sortPos=n,i.sortDir=e,i.$forceUpdate(),i.processing=!1},0)},refreshPageSize:function(){if(this.$refs.hScroll){var e=this.systable.getBoundingClientRect().width,t=this.tableContent.getBoundingClientRect().width;this.hScroller.tableUnseenWidth=e-t,this.$refs.hScroll.style.width=100*t/e+"%";var i=this.$refs.hScroll.getBoundingClientRect().width;this.hScroller.scrollerUnseenWidth=this.footer.getBoundingClientRect().width-40-i}if(this.noPaging){if("auto"===this.height){var n=Math.floor(window.innerHeight-this.tableContent.getBoundingClientRect().top-25),s=4;this.filterRow&&(s+=29),this.summaryRow&&(s+=25),this.footerRow||(s+=25),n=Math.min(24*(this.table.length-this.pageTop)+s,n),this.systable.parentNode.style.height=n+"px"}}else{var r=this.summaryRow?60:35,o=window.innerHeight-this.recordBody.getBoundingClientRect().top-r,a=1*this.height.replace(/px/,"")+this.systable.getBoundingClientRect().top-this.recordBody.getBoundingClientRect().top;this.height&&o>a&&(o=a),this.pageSize=this.page||Math.floor(o/24)}setTimeout(this.calVScroll)},firstPage:function(e){var t=this;e&&e.stopPropagation(),this.pageTop=0,this.calVScroll(),this.$refs.vScrollButton&&setTimeout(function(){t.$refs.vScrollButton.classList.add("focus"),t.lazy(function(){t.$refs.vScrollButton&&t.$refs.vScrollButton.classList.remove("focus")},1e3)})},lastPage:function(e){var t=this;e&&e.stopPropagation(),this.pageTop=this.table.length-this.pageSize<0?0:this.table.length-this.pageSize,this.calVScroll(),this.$refs.vScrollButton&&setTimeout(function(){t.$refs.vScrollButton.classList.add("focus"),t.lazy(function(){t.$refs.vScrollButton&&t.$refs.vScrollButton.classList.remove("focus")},1e3)})},prevPage:function(e){var t=this;e&&e.stopPropagation(),this.pageTop=this.pageTop<this.pageSize?0:this.pageTop-this.pageSize,this.calVScroll(),this.$refs.vScrollButton&&setTimeout(function(){t.$refs.vScrollButton.classList.add("focus"),t.lazy(function(){t.$refs.vScrollButton&&t.$refs.vScrollButton.classList.remove("focus")},1e3)})},nextPage:function(e){var t=this;e&&e.stopPropagation(),this.pageTop+this.pageSize<this.table.length&&(this.pageTop=Math.min(this.pageTop+this.pageSize,this.table.length-this.pageSize)),this.calVScroll(),this.$refs.vScrollButton&&setTimeout(function(){t.$refs.vScrollButton.classList.add("focus"),t.lazy(function(){t.$refs.vScrollButton&&t.$refs.vScrollButton.classList.remove("focus")},1e3)})},getSetting:function(){var e=w()(this.colgroupTr.children).map(function(e){return e.style.width}),t=this.fields.map(function(t,i){return{name:t.name,invisible:t.invisible,width:e[i+1],label:t.label}});return{colHash:this.colHash,fields:t}},settingClick:function(){this.disablePanelSetting||this.$refs.panelSetting.showPanel()},panelFilterClick:function(e){this.disablePanelFilter||this.$refs.panelFilter.showPanel(this.$refs["filter-"+e.name][0])},importTable:function(e,t){this.$refs.importFile.click(),this.importCallback=e,this.importErrorCallback=t},doImport:function(e){var t=this;this.processing=!0,this.clearAllSelected(),setTimeout(function(){var i=e.target.files;if(i&&0!==i.length){var n,s=i[0],r=new FileReader;r.onload=(n=u()(o.a.mark(function e(i){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(o.a.mark(function e(){var n,s,r,a,c,d,h,p,f;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.target.result,s=I.a.read(n,{type:"binary",cellDates:!0,cellStyle:!1}),r=s.SheetNames[0],a=(a=I.a.utils.sheet_to_row_object_array(s.Sheets[r])).filter(function(e){return b()(e).length>0}).map(function(e){return e.key_1&&(e.key=e.key_1,delete e.key_1),b()(e).forEach(function(t){"string"==typeof e[t]&&(e[t]=e[t].replace(/[ \r\n\t]+$/g,""))}),e}),c=String((new Date).getTime()%1e8),0!==a.length){e.next=9;break}throw t.importErrorCallback&&t.importErrorCallback("noRecordIsRead"),new Error("VueExcelEditor: "+t.localizedLabel.noRecordIsRead);case 9:if(!(t.fields.filter(function(e){return e.keyField}).filter(function(e){return void 0===a[0][e.name]&&void 0===a[0][e.label]}).length>0)){e.next=12;break}throw t.importErrorCallback&&t.importErrorCallback("missingKeyColumn"),new Error("VueExcelEditor: "+t.localizedLabel.missingKeyColumn);case 12:d=0,h=0,p=0,f=o.a.mark(function e(){var i,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fields.filter(function(e){return e.keyField}),n=[],e.next=4,l.a.all(a.map(function(){var e=u()(o.a.mark(function e(s,r){var a,f,v;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=-1,!i.length){e.next=9;break}if(-1!==(a=t.table.findIndex(function(e){return i.filter(function(t){return void 0!==e[t.name]&&(e[t.name]===s[t.name]||e[t.name]===s[t.label])}).length===i.length}))){e.next=9;break}if(!(f=i.map(function(e){return s[e.name]||s[e.label]}).join(":"))){e.next=9;break}if(!n.includes(f)){e.next=8;break}return e.abrupt("return");case 8:n.push(f);case 9:return-1===a&&(a=t.table.findIndex(function(e){return 0===b()(e).filter(function(e){return!e.startsWith("$")}).length})),v={$id:void 0===s.$id?c+"-"+("000000"+r).slice(-7):s.$id},e.next=13,l.a.all(t.fields.map(function(){var e=u()(o.a.mark(function e(i){var n,a,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.name.startsWith("$")){e.next=2;break}return e.abrupt("return");case 2:if(void 0===(n=s[i.name])&&(n=s[i.label]),void 0!==n){e.next=8;break}n=null,e.next=28;break;case 8:if(!i.readonly){e.next=11;break}throw t.importErrorCallback&&t.importErrorCallback("readonlyColumnDetected",r+1),new Error("VueExcelEditor: [row="+(r+1)+"] "+t.localizedLabel.readonlyColumnDetected+": "+i.name);case 11:if(!i.change){e.next=18;break}return e.next=14,i.change(n,v[i.name],v,i);case 14:if(!1!==e.sent){e.next=18;break}throw t.importErrorCallback&&t.importErrorCallback("columnHasValidationError",r+1),new Error("VueExcelEditor: [row="+(r+1)+", val="+n+"] "+t.localizedLabel.columnHasValidationError(i.name,""));case 18:if(!i.validate){e.next=23;break}if(a=void 0,!(a=i.validate(n,v[i.name],v,i))){e.next=23;break}throw t.importErrorCallback&&t.importErrorCallback("columnHasValidationError",r+1,n),new Error("VueExcelEditor: [row="+(r+1)+", val="+n+"] "+t.localizedLabel.columnHasValidationError(i.name,a));case 23:if(!t.validate){e.next=28;break}if(l=void 0,!(l=t.validate(n,v[i.name],v,i))){e.next=28;break}throw t.importErrorCallback&&t.importErrorCallback("rowHasValidationError",r+1,n),new Error("VueExcelEditor: [row="+(r+1)+", val="+n+"] "+t.localizedLabel.rowHasValidationError(r+1,i.name,l));case 28:if(null===n){e.next=32;break}v[i.name]=n,e.next=35;break;case 32:if(!i.mandatory){e.next=35;break}throw t.importErrorCallback&&t.importErrorCallback(i.mandatory,r+1,n),new Error("VueExcelEdutor: [row="+(r+1)+", val="+n+"] "+i.mandatory);case 35:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()));case 13:1===d&&(a>=0?(p++,b()(v).forEach(function(e){e.startsWith("$")||t.updateCell(a,e,v[e])}),t.selected[a]=t.table[a].$id):(t.newRecord(v,!0),h++));case 14:case"end":return e.stop()}},e,t)}));return function(t,i){return e.apply(this,arguments)}}()));case 4:d++;case 5:case"end":return e.stop()}},e,t)});case 16:if(!(d<2)){e.next=20;break}return e.delegateYield(f(),"t0",18);case 18:e.next=16;break;case 20:2===d&&t.importCallback&&t.importCallback({inserted:h,updated:p,recordAffected:h+p});case 21:case"end":return e.stop()}},e,t)})(),"t0",2);case 2:e.next=8;break;case 4:throw e.prev=4,e.t1=e.catch(0),t.importErrorCallback&&t.importErrorCallback(e.t1.message),new Error("VueExcelEditor: "+e.t1.stack);case 8:return e.prev=8,t.processing=!1,t.$refs.importFile.value="",e.finish(8);case 12:case"end":return e.stop()}},e,t,[[0,4,8,12]])})),function(e){return n.apply(this,arguments)}),r.onerror=function(e){throw t.processing=!1,t.$refs.importFile.value="",t.importErrorCallback&&t.importErrorCallback(e.message),new Error("VueExcelEditor: "+e.stack)},r.readAsBinaryString(s)}},500)},exportTable:function(e,t,i){var n=this;this.processing=!0,setTimeout(function(){var s=I.a.utils.book_new(),r=null,o=n.table;t&&(o=n.table.filter(function(e,t){return n.selected[t]}));var a=o.map(function(e){var t={};return n.fields.forEach(function(i){return t[i.name]=e[i.name]}),t});r=I.a.utils.json_to_sheet(a,{header:n.fields.map(function(e){return e.name})});var l=w()(n.labelTr.children).slice(1).map(function(e){return e.children[0].innerText});switch(I.a.utils.sheet_add_aoa(r,[l],{origin:0}),r["!cols"]=w()(n.labelTr.children).slice(1).map(function(e){return{width:e.getBoundingClientRect().width/6.5}}),I.a.utils.book_append_sheet(s,r,"Sheet1"),i=i||"export",e){case"csv":i.endsWith(".csv")||(i+=".csv");break;case"xls":i.endsWith(".xls")||(i+=".xls");break;case"xlsx":case"excel":default:i.endsWith(".xlsx")||(i+=".xlsx")}i.endsWith(".xlsx")?I.a.writeFile(s,i,{compression:"DEFLATE",compressionOptions:{level:6}}):I.a.writeFile(s,i),n.processing=!1},500)},getSelectedRecords:function(){var e=this;return this.table.filter(function(t,i){return e.selected[i]})},rowLabelClick:function(e){for(var t=e.target;"TD"!==t.tagName;)t=t.parentNode;var i=Number(t.getAttribute("pos"))+this.pageTop;if(e.shiftKey){if(document.getSelection().removeAllRanges(),-1!==this.prevSelect&&this.prevSelect!==i)if(e.preventDefault(),i>this.prevSelect)for(var n=this.prevSelect;n<=i;n++)this.selectRecord(n);else for(var s=i;s<=this.prevSelect;s++)this.selectRecord(s)}else{var r=this.selected[i];this.freeSelect||e.ctrlKey||e.metaKey||this.clearAllSelected(),r?this.unSelectRecord(i):this.selectRecord(i)}this.prevSelect=i},selectAllClick:function(){this.toggleSelectAllRecords()},reviseSelectedAfterTableChange:function(){var e=this;this.rowIndex={},this.table.forEach(function(t,i){return e.rowIndex[t.$id]=i});var t=f()(this.selected);this.selected={},b()(t).forEach(function(i){var n=t[i];void 0!==e.rowIndex[n]&&(e.selected[e.rowIndex[n]]=n)}),this.selectedCount=b()(this.selected).length},toggleSelectRecord:function(e){void 0!==this.selected[e]?this.unSelectRecord(e):this.selectRecord(e)},selectRecord:function(e){var t=this;void 0===this.selected[e]&&(this.selectedCount++,this.selected[e]=this.table[e].$id,this.recordBody.children[e-this.pageTop]&&this.recordBody.children[e-this.pageTop].classList.add("select"),this.lazy(e,function(e){t.$emit("select",e,!0)}))},selectRecordByKeys:function(e){var t=this,i=this.table.findIndex(function(i){return t.fields.filter(function(e){return e.keyField}).filter(function(t){return i[t.name]===e[t.name]}).length===e.length});i>=0&&this.selectRecord(i)},selectRecordById:function(e){var t=this.table.findIndex(function(t){return t.$id===e});t>=0&&this.selectRecord(t)},unSelectRecord:function(e){var t=this;void 0!==this.selected[e]&&(delete this.selected[e],this.selectedCount--,this.recordBody.children[e-this.pageTop]&&this.recordBody.children[e-this.pageTop].classList.remove("select"),this.lazy(e,function(e){t.$emit("select",e,!1)}))},toggleSelectAllRecords:function(e){if(e&&e.preventDefault(),this.selectedCount>0)this.clearAllSelected();else{for(var t=0;t<this.table.length;t++)this.selectRecord(t);this.selectedCount=this.table.length}},clearAllSelected:function(){this.selectedCount>0&&this.$emit("select",b()(this.selected).map(function(e){return Number(e)}),!1),this.selected={},this.selectedCount=0},moveTo:function(e,t){var i=this;t=t||0;var n=this.moveInputSquare(e-this.pageTop,t);return this.focused=!0,setTimeout(function(){return i.inputBox.focus()}),n},moveToNorthWest:function(){for(var e=0;this.fields[e].invisible&&e<this.fields.length-1;)e++;return this.moveTo(0,e)},moveToNorthEast:function(){for(var e=this.fields.length-1;this.fields[e].invisible&&e>0;)e--;return this.moveTo(0,e)},moveToSouthWest:function(){for(var e=this.table.length-1,t=0;this.fields[t].invisible&&t<this.fields.length-1;)t++;return this.moveTo(e,t)},moveToSouthEast:function(){for(var e=this.table.length-1,t=this.fields.length-1;this.fields[t].invisible&&t>0;)t--;return this.moveTo(e,t)},moveToWest:function(){for(var e=this.currentRowPos,t=0;this.fields[t].invisible&&t<this.fields.length-1;)t++;return this.moveTo(e,t)},moveToEast:function(){for(var e=this.currentRowPos,t=this.fields.length-1;this.fields[t].invisible&&t>0;)t--;return this.moveTo(e,t)},moveWest:function(){if(this.focused&&this.currentColPos>0){for(var e=this.currentColPos-1;this.fields[e].invisible&&e>0;)e--;return-1!==e&&!this.fields[e].invisible&&this.moveInputSquare(this.currentRowPos,e)}return!1},moveEast:function(){if(this.focused&&this.currentColPos<this.fields.length-1){for(var e=this.currentColPos+1;this.fields[e].invisible&&e<this.fields.length-1;)e++;return e!==this.fields.length&&!this.fields[e].invisible&&this.moveInputSquare(this.currentRowPos,e)}return!1},moveNorth:function(){var e=this;if(this.focused){var t=this.moveInputSquare(this.currentRowPos-1,this.currentColPos);return this.calVScroll(),this.$refs.vScrollButton&&setTimeout(function(){e.$refs.vScrollButton.classList.add("focus"),e.lazy(function(){e.$refs.vScrollButton&&e.$refs.vScrollButton.classList.remove("focus")},1e3)}),t}return!1},moveSouth:function(){var e=this;if(this.focused){if(this.currentRowPos+1>=this.table.length)return!this.readonly&&(!!this.newIfBottom&&(this.newRecord({},!1,!0),setTimeout(this.moveSouth,0),!0));var t=this.moveInputSquare(this.currentRowPos+1,this.currentColPos);return this.calVScroll(),this.$refs.vScrollButton&&setTimeout(function(){e.$refs.vScrollButton.classList.add("focus"),e.lazy(function(){e.$refs.vScrollButton&&e.$refs.vScrollButton.classList.remove("focus")},1e3)}),t}return!1},mouseDown:function(e){var t=this;if("TBODY"===e.target.parentNode.parentNode.tagName&&!e.target.classList.contains("first-col")){e.preventDefault(),setTimeout(function(){return t.inputBox.focus()}),this.focused=!0;var i=e.target.parentNode,n=w()(i.children).indexOf(e.target)-1,s=w()(i.parentNode.children).indexOf(i);if(this.$emit("cell-click",{rowPos:s,colPos:n}),this.moveInputSquare(s,n),this.currentField&&this.currentField.link&&e.altKey&&setTimeout(function(){return t.currentField.link(t.currentCell.textContent,t.currentRecord,s,n,t.currentField,t)}),e.target.offsetWidth-e.offsetX>15)return;if(this.currentField.readonly)return;this.inputBox.value=this.currentCell.textContent,e.target.classList.contains("select")&&this.calAutocompleteList(!0),e.target.classList.contains("datepick")&&this.showDatePickerDiv()}},cellMouseMove:function(e){var t="cell";this.inputBoxShow&&(t="default"),!e.target.classList.contains("readonly")&&(e.target.classList.contains("select")||e.target.classList.contains("datepick"))&&e.target.offsetWidth-e.offsetX<15&&(t="pointer"),e.target.style.cursor=t},cellMouseOver:function(e){var t=e.target;if(t.classList.contains("error")&&(this.tipTimeout&&clearTimeout(this.tipTimeout),""!==(this.tip=this.errmsg[t.getAttribute("id")]))){var i=t.getBoundingClientRect();this.$refs.tooltip.style.top=i.top-14+"px",this.$refs.tooltip.style.left=i.right+8+"px",t.addEventListener("mouseout",this.cellMouseOut)}},numcolMouseOver:function(e){var t=e.target;if(t.classList.contains("error")&&(this.tipTimeout&&clearTimeout(this.tipTimeout),""!==(this.tip=this.rowerr[t.getAttribute("id")]))){var i=t.getBoundingClientRect();this.$refs.tooltip.style.top=i.top-14+"px",this.$refs.tooltip.style.left=i.right+8+"px",t.addEventListener("mouseout",this.cellMouseOut)}},cellMouseOut:function(e){var t=this;this.tipTimeout=setTimeout(function(){t.tip=""},1e3),e.target.removeEventListener(e.type,this.cellMouseOut)},mouseOver:function(){this.mousein=!0,this.systable.classList.add("mouseover")},mouseOut:function(){this.mousein=!1,this.systable.classList.remove("mouseover")},moveInputSquare:function(e,t){if(t<0)return!1;var i=this.pageTop,n=this.recordBody.children[e];if(!n)if(e>this.currentRowPos){if(!(this.pageTop+this.pageSize<this.table.length))return!1;this.pageTop+=1,n=this.recordBody.children[--e]}else{if(!(this.pageTop-1>=0))return!1;this.pageTop-=1,n=this.recordBody.children[++e]}this.labelTr.children[this.currentColPos+1].classList.remove("focus"),this.currentRowPos>=0&&this.currentRowPos<this.pagingTable.length&&this.recordBody.children[this.currentRowPos].children[0].classList.remove("focus"),this.inputBoxShow&&(this.inputBoxShow=0),this.inputBoxChanged&&(this.inputCellWrite(this.inputBox.value,this.currentColPos,i+this.currentRowPos),this.inputBoxChanged=!1);var s=n.children[t+1];if(!s)return!1;this.currentField=this.fields[t];var r=s.getBoundingClientRect(),o=this.systable.getBoundingClientRect();if(this.squareSavedLeft=this.tableContent.scrollLeft,this.inputSquare.style.marginLeft=0,this.inputSquare.style.left=r.left-o.left-1+"px",this.inputSquare.style.top=r.top-o.top-1+"px",this.inputSquare.style.width=r.width+1+"px",this.inputSquare.style.height=r.height+1+"px",this.inputSquare.style.zIndex=this.currentField.sticky?3:1,!this.currentField.sticky){var a=this.$el.getBoundingClientRect();r.right>=a.right-12&&this.tableContent.scrollBy(r.right-a.right+13,0),r.left<=a.left+this.leftMost&&this.tableContent.scrollBy(r.left-a.left-this.leftMost-1,0)}return this.currentRowPos=e,this.currentColPos=t,this.currentCell=s,this.currentRecord=this.table[i+e],this.$emit("cell-focus",{rowPos:e,colPos:t,cell:s,record:this.currentRecord}),this.showDatePicker&&(this.showDatePicker=!1),this.autocompleteInputs.length&&(this.autocompleteInputs=[],this.autocompleteSelect=-1),this.recalAutoCompleteList&&clearTimeout(this.recalAutoCompleteList),this.currentRowPos>=0&&this.currentRowPos<this.pagingTable.length&&(this.inputBox.value=this.currentCell.textContent,this.inputBox.focus(),this.focused=!0,n.children[0].classList.add("focus"),this.labelTr.children[t+1].classList.add("focus")),!0},inputSquareClick:function(){this.currentField.readonly||this.inputBoxShow||"select"===this.currentField.type||(this.inputBox.value=this.currentCell.textContent,this.inputBoxShow=1,this.inputBox.focus(),this.inputBoxChanged=!1,this.focused=!0)},inputBoxMouseMove:function(e){var t="text";!this.currentField.readonly&&(this.currentField.options||"date"===this.currentField.type)&&e.target.offsetWidth-e.offsetX<15&&(t="pointer"),e.target.style.cursor=t},inputBoxMouseDown:function(e){e.target.offsetWidth-e.offsetX>15||this.currentField.readonly||(this.currentField.options&&(e.preventDefault(),this.calAutocompleteList(!0)),"date"===this.currentField.type&&(e.preventDefault(),this.showDatePickerDiv()))},inputCellWrite:function(e,t,i){var n=this.currentField;void 0!==t&&(n=this.fields[t]),void 0===i&&(i=this.pageTop+this.currentRowPos),void 0!==this.selected[i]?this.updateSelectedRows(n,n.toValue(e)):this.updateCell(i,n,n.toValue(e))},inputBoxBlur:function(){this.$refs.dpContainer&&(this.$refs.dpContainer.querySelector(":hover")||(this.inputBoxComplete(),this.focused=!1,-1!==this.currentRowPos&&this.currentRowPos<this.recordBody.children.length&&(this.recordBody.children[this.currentRowPos].children[0].classList.remove("focus"),this.labelTr.children[this.currentColPos+1].classList.remove("focus"))))},inputBoxComplete:function(){this.inputBoxChanged&&(this.inputCellWrite(this.inputBox.value),this.inputBoxChanged=!1),this.inputBoxShow=0,this.showDatePicker=!1,this.focused=!1,this.focused=!0},undoTransaction:function(e){var t=this;(e&&e.preventDefault(),0!==this.redo.length)&&this.redo.pop().every(function(e){try{if("d"===e.type)t.newRecord(e.rec,!1,!0,!0);else if(e.field&&e.field.keyField&&e.oldKeys.includes(e.newVal)){var i=t.value.findIndex(function(t){return t.$id===e.$id});i>=0&&t.deleteRecord(i,!0)}else t.updateCell(e.$id,e.field.name,e.oldVal,!0);return!0}catch(e){return!1}})},newRecord:function(e,t,i,n){var s=this;void 0===e&&(e={}),this.fields.map(function(t){void 0===e[t.name]&&(t.keyField?e[t.name]="Â§"+s.tempKey():e[t.name]=null)});var r=e.$id||this.tempKey();e.$id=r,this.value.push(e);var o=this.table.push(e)-1;return t&&(this.selected[o]=r),b()(e).forEach(function(t){var i=s.fields.find(function(e){return e.name===t});i&&s.updateCell(e,i,e[t],n)}),i||this.lazy(function(){s.lastPage(),s.moveToSouthWest()}),e},deleteSelectedRecords:function(){var e=this;s()(this.selected).forEach(function(t){var i=e.value.findIndex(function(e){return e.$id===t});i>=0&&e.deleteRecord(i)}),this.selected={},this.selectedCount=0},deleteRecord:function(e,t){var i=this;this.currentRowPos===e&&this.moveNorth();var n=this.value.splice(e,1)[0];setTimeout(function(){i.lazy(n,function(e){i.$emit("delete",e),t||i.redo.push(e.map(function(e){return{type:"d",rec:e}}))})},100)},updateCell:function(e,t,i,n){var s=this;return u()(o.a.mark(function r(){var a,l;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e.constructor.name,r.next="String"===r.t0?3:"Number"===r.t0?5:"Object"===r.t0?7:8;break;case 3:return e=s.value.find(function(t){return t.$id===e}),r.abrupt("break",9);case 5:return e=s.table[e],r.abrupt("break",9);case 7:return r.abrupt("break",9);case 8:throw new Error("Invalid row argument type");case 9:r.t1=t.constructor.name,r.next="String"===r.t1?12:"Number"===r.t1?14:"Object"===r.t1?16:17;break;case 12:return t=s.fields.find(function(e){return e.name===t}),r.abrupt("break",18);case 14:return t=s.fields[t],r.abrupt("break",18);case 16:return r.abrupt("break",18);case 17:throw new Error("Invalid field argument type");case 18:if(t){r.next=20;break}throw new Error("Invalid field argument");case 20:if(e){r.next=22;break}return r.abrupt("return");case 22:if(a=e[t.name],l=s.getKeys(e),!t.change){r.next=30;break}return r.next=27,t.change(i,a,e,t);case 27:if(!1!==r.sent){r.next=30;break}return r.abrupt("return");case 30:e[t.name]=i,setTimeout(function(){var r={$id:e.$id,keys:s.getKeys(e),oldKeys:l,name:t.name,field:t,oldVal:void 0!==a?a:"",newVal:i,err:""};null!==t.validate&&(r.err=t.validate(i,a,e,t)),t.mandatory&&""===i&&(r.err+=(r.err?"\n":"")+t.mandatory),s.setFieldError(r.err,e,t),null!==s.validate&&(r.rowerr=s.validate(i,a,e,t),s.setRowError(r.rowerr,e)),t.summary&&s.calSummary(t.name),s.lazy(r,function(e){s.$emit("update",e),n||s.redo.push(e)},50)});case 32:case"end":return r.stop()}},r,s)}))()},updateSelectedRows:function(e,t){var i=this;this.processing=!0,setTimeout(function(){b()(i.selected).forEach(function(n){return i.updateCell(parseInt(n),e,t)}),i.processing=!1},0)},setFieldError:function(e,t,i){var n="id-"+t.$id+"-"+i.name,s=this.systable.querySelector("td#"+n);e?(this.errmsg[n]=e,this.$emit("validate-error",e,t,i),s&&s.classList.add("error")):this.errmsg[n]&&(delete this.errmsg[n],this.$emit("validate-error","",t,i),s&&s.classList.remove("error"))},setRowError:function(e,t){var i="rid-"+t.$id,n=this.systable.querySelector("td#"+i);e?(this.rowerr[i]=e,this.$emit("validate-error",e,t),n&&n.classList.add("error")):this.rowerr[i]&&(delete this.rowerr[i],this.$emit("validate-error","",t),n&&n.classList.remove("error"))},calAutocompleteList:function(e){var t=this;return u()(o.a.mark(function i(){var n;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e||t.currentField.autocomplete){i.next=2;break}return i.abrupt("return");case 2:(e||t.inputBoxChanged&&t.inputBox.value.length>0)&&(void 0!==t.recalAutoCompleteList&&clearTimeout(t.recalAutoCompleteList),n=function(){var i=u()(o.a.mark(function i(){var n,r,a,l,c,u,d,h;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=4;break}if(t.focused&&t.inputBoxShow&&t.inputBoxChanged&&t.inputBox.value.length){i.next=4;break}return t.autocompleteInputs=[],i.abrupt("return");case 4:if(n=t.currentField,r=n.name,a=t.inputBox.value.toUpperCase(),l=t.autocompleteCount,c=[],!n.options){i.next=22;break}if(!n.options.constructor.name.endsWith("Function")){i.next=19;break}return i.next=13,n.options(a,t.currentRecord);case 13:c=i.sent,c="map"===n.type?s()(c):c.slice(),t.inputBoxShow&&(c=c.filter(function(e){return e.toUpperCase().includes(a)})),c.sort().splice(l),i.next=20;break;case 19:s()(n.options).length>0&&(c=n.options,c="map"===n.type?s()(c):c.slice(),t.inputBoxShow&&(c=c.filter(function(e){return e.toUpperCase().includes(a)})),c.sort().splice(l));case 20:i.next=32;break;case 22:u=0;case 23:if(!(u<t.value.length)){i.next=31;break}if(void 0!==(d=t.value[u])[r]&&d[r].toString().toUpperCase().startsWith(a)&&-1===c.indexOf(d[r])&&c.push(d[r]),!(c.length>=l)){i.next=28;break}return i.abrupt("break",31);case 28:u++,i.next=23;break;case 31:c.sort();case 32:return t.autocompleteSelect=c.findIndex(function(e){return e.toUpperCase().startsWith(a)}),t.autocompleteInputs=c,h=t.currentCell.getBoundingClientRect(),t.lazy(function(){if(t.$refs.autocomplete){t.$refs.autocomplete.style.minWidth=h.width+"px";var e=t.$refs.autocomplete.getBoundingClientRect();h.bottom+e.height>window.innerHeight?(t.autocompleteInputs.reverse(),t.autocompleteSelect=t.autocompleteInputs.length-t.autocompleteSelect-1,t.$refs.autocomplete.style.top=h.top-e.height+"px"):t.$refs.autocomplete.style.top=h.bottom+"px",h.left+e.width>window.innerWidth?t.$refs.autocomplete.style.top=window.innerWidth-e.width+"px":t.$refs.autocomplete.style.left=h.left+"px";var i=23*t.autocompleteSelect-206;t.$refs.autocomplete.scrollTop=i>0?i:0}}),i.abrupt("return",t.autocompleteSelect);case 37:case"end":return i.stop()}},i,t)}));return function(){return i.apply(this,arguments)}}(),e?n():t.lazy(n,700));case 3:case"end":return i.stop()}},i,t)}))()},inputAutocompleteText:function(e,t){var i=this;t&&t.preventDefault(),this.autocompleteInputs=[],this.autocompleteSelect=-1,this.inputBoxShow=0,this.inputBoxChanged=!1,setTimeout(function(){i.inputCellWrite(e)})},tempKey:function(){return(new Date).getTime()%1e8+"-"+Math.random().toString().slice(2,7)},hashCode:function(e){return e.split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)},lazy:function(e,t,i){var n=this;if("function"!=typeof e)return this.lazyBuf(e,t,i);t||(t=20);var s=this.hashCode(e.name+e.toString());this.lazyTimeout[s]&&clearTimeout(this.lazyTimeout[s]),this.lazyTimeout[s]=setTimeout(function(){e(),delete n.lazyTimeout[s]},t)},lazyBuf:function(e,t,i){var n=this;i||(i=20);var s=this.hashCode(t.name+t.toString());this.lazyBuffer[s]?this.lazyBuffer[s].push(e):this.lazyBuffer[s]=[e],this.lazyTimeout[s]&&clearTimeout(this.lazyTimeout[s]),this.lazyTimeout[s]=setTimeout(function(){t(n.lazyBuffer[s]),delete n.lazyTimeout[s],delete n.lazyBuffer[s]},i)}}}),j={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vue-excel-editor",style:{display:"inline-block","max-width":e.width}},[i("div",{staticClass:"component-content"},[e.localizedLabel.noRecordIndicator&&0==e.pagingTable.length?i("div",{staticClass:"norecord",style:{bottom:e.noFooter?"12px":"37px"}},[e._v("\n      "+e._s(e.localizedLabel.noRecordIndicator)+"\n    ")]):e._e(),e._v(" "),i("div",{ref:"tableContent",staticClass:"table-content",class:{"no-footer":e.noFooter},on:{scroll:e.tableScroll,mouseover:e.mouseOver,mouseout:e.mouseOut}},[i("table",{ref:"systable",staticClass:"systable",class:{"no-number":e.noNumCol},staticStyle:{"table-layout":"fixed",width:"0"},attrs:{id:"systable",ondragenter:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'",ondragover:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'"}},[i("colgroup",[e.noNumCol?e._e():i("col",{staticStyle:{width:"40px"}}),e._v(" "),e._l(e.fields,function(e,t){return i("col",{directives:[{name:"show",rawName:"v-show",value:!e.invisible,expression:"!item.invisible"}],key:t,style:{width:e.width}})}),e._v(" "),e.vScroller.buttonHeight<e.vScroller.height?i("col",{staticStyle:{width:"12px"}}):e._e()],2),e._v(" "),i("thead",{staticClass:"center-text"},[i("tr",[i("th",{staticClass:"center-text first-col tl-setting",class:{hide:e.noNumCol},staticStyle:{top:"0"},on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:e.selectAllClick.apply(null,arguments)},contextmenu:function(t){return t.preventDefault(),e.settingClick.apply(null,arguments)}}},[i("span",{staticStyle:{width:"100%"}},[e.selectedCount>0?i("svg",{staticClass:"svg-inline--fa fa-times-circle fa-w-16 fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}})]):i("svg",{staticClass:"svg-inline--fa fa-bars fa-w-14 fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"bars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[i("path",{attrs:{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}})])])]),e._v(" "),e._l(e.fields,function(t,n){return i("th",{directives:[{name:"show",rawName:"v-show",value:!t.invisible,expression:"!item.invisible"}],key:"th-"+n,class:{"sort-asc-sign":e.sortPos==n&&1==e.sortDir,"sort-des-sign":e.sortPos==n&&-1==e.sortDir,"sticky-column":t.sticky},style:{left:t.left},attrs:{colspan:n===e.fields.length-1&&e.vScroller.buttonHeight<e.vScroller.height?2:1},on:{mousedown:function(t){return e.headerClick(t,n)},contextmenu:function(i){return i.preventDefault(),e.panelFilterClick(t)}}},[i("div",{class:{"filter-sign":e.columnFilter[n]}},[i("span",{class:{"table-col-header":!e.noHeaderEdit},domProps:{innerHTML:e._s(e.headerLabel(t.label,t))}})]),e._v(" "),i("div",{staticClass:"col-sep",on:{mousedown:e.colSepMouseDown,mouseover:e.colSepMouseOver,mouseout:e.colSepMouseOut}},[i("div",{staticClass:"add-col-btn"},[e._v(" + ")])])])})],2),e._v(" "),i("tr",{class:{hide:!e.filterRow}},[i("td",{staticClass:"center-text first-col tl-filter",class:{hide:e.noNumCol},staticStyle:{"vertical-align":"middle",padding:"0"},style:{top:e.calCellTop2+"px"},on:{click:function(t){e.columnFilter={}}}},[Object.keys(e.columnFilter).length>0?i("span",[i("svg",{staticClass:"svg-inline--fa fa-eraser fa-w-16 fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"eraser",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"}})])]):e._e()]),e._v(" "),e._l(e.fields,function(t,n){return i("vue-excel-filter",{directives:[{name:"show",rawName:"v-show",value:!t.invisible,expression:"!item.invisible"}],key:"th2-"+n,ref:"filter-"+t.name,refInFor:!0,staticClass:"column-filter",class:{"sticky-column":t.sticky},style:{left:t.left},attrs:{colspan:n===e.fields.length-1?2:1},model:{value:e.columnFilter[n],callback:function(t){e.$set(e.columnFilter,n,t)},expression:"columnFilter[p]"}})})],2)]),e._v(" "),i("tbody",{on:{mousedown:e.mouseDown}},[e.localizedLabel.noRecordIndicator&&0==e.pagingTable.length?i("tr",[i("td",{staticStyle:{height:"40px","vertical-align":"middle","text-align":"center"},attrs:{colspan:"100%"}})]):e._l(e.pagingTable,function(t,n){return i("tr",{key:n,class:{select:void 0!==e.selected[e.pageTop+n]},style:e.rowStyle(t)},[i("td",{staticClass:"center-text first-col",class:{hide:e.noNumCol,error:e.rowerr["rid-"+t.$id]},attrs:{id:"rid-"+t.$id,pos:n},on:{mouseover:e.numcolMouseOver,click:e.rowLabelClick}},[i("span",{domProps:{innerHTML:e._s(e.recordLabel(e.pageTop+n+1,t))}})]),e._v(" "),e._l(e.fields,function(s,r){return i("td",{directives:[{name:"show",rawName:"v-show",value:!s.invisible,expression:"!item.invisible"}],key:r,class:{readonly:s.readonly,error:e.errmsg["id-"+t.$id+"-"+s.name],link:s.link,select:s.options,datepick:"date"==s.type,"sticky-column":s.sticky},style:Object.assign(e.cellStyle(t,s),e.renderColumnCellStyle(s)),attrs:{id:"id-"+t.$id+"-"+s.name,"cell-RC":n+"-"+s.name},on:{mouseover:e.cellMouseOver,mousemove:e.cellMouseMove}},[e._v(e._s(s.toText(t[s.name])))])}),e._v(" "),e.vScroller.buttonHeight<e.vScroller.height?i("td",{staticClass:"last-col"}):e._e()],2)})],2),e._v(" "),i("tfoot",[i("tr",{directives:[{name:"show",rawName:"v-show",value:e.pagingTable.length&&e.summaryRow,expression:"pagingTable.length && summaryRow"}]},[i("td",{staticClass:"row-summary first-col"},[e._v("Â ")]),e._v(" "),e._l(e.fields,function(t,n){return i("td",{directives:[{name:"show",rawName:"v-show",value:!t.invisible,expression:"!field.invisible"}],key:"f"+n,staticClass:"row-summary",class:{"sticky-column":t.sticky,"summary-column1":n+1<e.fields.length&&e.fields[n+1].summary,"summary-column2":t.summary},style:e.renderColumnCellStyle(t),attrs:{colspan:n===e.fields.length-1&&e.vScroller.buttonHeight<e.vScroller.height?2:1}},[e._v(e._s(e.summary[t.name]))])})],2)]),e._v(" "),e._t("default")],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.tip,expression:"tip"}],ref:"tooltip",staticClass:"tool-tip"},[e._v(e._s(e.tip))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.focused,expression:"focused"}],ref:"inputSquare",staticClass:"input-square",on:{mousedown:e.inputSquareClick}},[i("div",{staticStyle:{position:"relative",height:"100%",padding:"2px 2px 1px"}},[i("div",{staticClass:"rb-square"}),e._v(" "),i("textarea",{ref:"inputBox",staticClass:"input-box",style:{opacity:e.inputBoxShow},attrs:{id:"inputBox",trim:"",autocomplete:"off",autocorrect:"off",autocompitaize:"off",spellcheck:e.spellcheck},on:{blur:e.inputBoxBlur,mousemove:e.inputBoxMouseMove,mousedown:e.inputBoxMouseDown}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDatePicker,expression:"showDatePicker"}],ref:"dpContainer",staticStyle:{"z-index":"20",position:"fixed"}},[i("date-picker",{ref:"datepicker",attrs:{inline:"",valueType:"format"},on:{input:e.datepickerClick},model:{value:e.inputDateTime,callback:function(t){e.inputDateTime=t},expression:"inputDateTime"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.processing,expression:"processing"}],ref:"frontdrop",staticClass:"front-drop"},[i("svg",{staticClass:"svg-inline--fa fa-spinner fa-w-16 fa-spin fa-3x",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}})])])]),e._v(" "),e.vScroller.buttonHeight<e.vScroller.height?i("div",{ref:"vScroll",staticClass:"v-scroll",style:{top:e.vScroller.top+"px",height:e.vScroller.height+"px"},on:{mousedown:e.vsMouseDown}},[i("div",{ref:"vScrollButton",staticClass:"v-scroll-button",style:{marginTop:e.vScroller.buttonTop+"px",height:e.vScroller.buttonHeight+"px"},on:{mousedown:e.vsbMouseDown}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.vScroller.runner,expression:"vScroller.runner"}],staticClass:"runner",domProps:{innerHTML:e._s(e.vScroller.runner)}})])]):e._e(),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.focused&&e.autocompleteInputs.length,expression:"focused && autocompleteInputs.length"}],ref:"autocomplete",staticClass:"autocomplete-results"},e._l(e.autocompleteInputs,function(t,n){return i("li",{key:n,staticClass:"autocomplete-result",class:{select:e.autocompleteSelect===n},on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:(t.preventDefault(),e.inputAutocompleteText(t.target.textContent,t))}}},[e._v(e._s(t))])}),0),e._v(" "),i("div",{ref:"footer",staticClass:"footer center-text",class:{hide:e.noFooter},staticStyle:{position:"relative"},on:{mousedown:e.ftMouseDown}},[i("div",{ref:"hScroll",staticClass:"h-scroll",on:{mousedown:e.sbMouseDown}}),e._v(" "),i("span",{staticClass:"left-block"}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.noPaging,expression:"!noPaging"}],staticStyle:{position:"absolute",left:"46px"}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.footerLeft(e.pageTop+1,e.pageBottom,e.table.length))}})]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.noPaging&&e.pageBottom-e.pageTop<e.table.length,expression:"!noPaging && pageBottom - pageTop < table.length"}]},[e.processing?[i("svg",{staticClass:"svg-inline--fa fa-spinner fa-w-16 fa-spin fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}})]),e._v("\n          Â \n          "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.processing)}})]:[i("a",{class:{disabled:e.pageTop<=0},on:{mousedown:e.firstPage}},[i("svg",{staticClass:"svg-inline--fa fa-step-backward fa-w-14 fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"step-backward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[i("path",{attrs:{fill:"currentColor",d:"M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"}})]),e._v("\n            Â \n            "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.first)}})]),e._v("\n          Â |Â \n          "),i("a",{class:{disabled:e.pageTop<=0},on:{mousedown:e.prevPage}},[i("svg",{staticClass:"svg-inline--fa fa-backward fa-w-16 fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"backward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"}})]),e._v("\n            Â \n            "),i("span",{domProps:{innerHTML:e._s(e.localizedLabel.previous)}})]),e._v("\n          Â |Â \n          "),i("a",{class:{disabled:e.pageTop+e.pageSize>=e.table.length},on:{mousedown:e.nextPage}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.next)}}),e._v("\n            Â \n            "),i("svg",{staticClass:"svg-inline--fa fa-forward fa-w-16 fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"forward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"}})])]),e._v("\n          Â |Â \n          "),i("a",{class:{disabled:e.pageTop+e.pageSize>=e.table.length},on:{mousedown:e.lastPage}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.last)}}),e._v("\n            Â \n            "),i("svg",{staticClass:"svg-inline--fa fa-step-forward fa-w-14 fa-sm",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"step-forward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[i("path",{attrs:{fill:"currentColor",d:"M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"}})])])]],2),e._v(" "),i("span",{staticStyle:{position:"absolute",right:"6px"}},[i("a",{class:{disabled:!e.showSelectedOnly&&e.selectedCount<=1},on:{mousedown:e.toggleSelectView}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.footerRight.selected)}}),e._v(" "),i("span",{style:{color:e.selectedCount>0?"red":"inherit"}},[e._v(e._s(e.selectedCount))])]),e._v("\n        Â |Â \n        "),i("a",{class:{disabled:"{}"===e.columnFilterString},on:{mousedown:e.toggleFilterView}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.footerRight.filtered)}}),e._v(" "),i("span",{style:{color:e.table.length!==e.filteredValue.length?"red":"inherit"}},[e._v(e._s(e.table.length))])]),e._v("\n        Â |Â \n        "),i("a",{class:{disabled:!0}},[i("span",{domProps:{innerHTML:e._s(e.localizedLabel.footerRight.loaded)}}),e._v(" "),i("span",[e._v(e._s(e.filteredValue.length))])])])]),e._v(" "),i("input",{ref:"importFile",staticStyle:{position:"absolute",top:"0",left:"0",width:"0",height:"0",opacity:"0","z-index":"-1"},attrs:{type:"file",accept:".xlsx, .xls, xlsm, .csv"},on:{keyup:e.componentTabInto,change:e.doImport}}),e._v(" "),i("panel-filter",{ref:"panelFilter",attrs:{"n-filter-count":e.nFilterCount,"localized-label":e.localizedLabel}}),e._v(" "),i("panel-setting",{ref:"panelSetting",attrs:{"localized-label":e.localizedLabel},model:{value:e.fields,callback:function(t){e.fields=t},expression:"fields"}}),e._v(" "),i("panel-find",{ref:"panelFind",attrs:{"localized-label":e.localizedLabel}})],1)])},staticRenderFns:[]};var V=i("VU/8")(N,j,!1,function(e){i("bucq")},"data-v-1a2383c7",null);t.a=V.exports},YyRQ:function(e,t){},"Z/F9":function(e,t){},ZTXh:function(e,t){},Zl7i:function(e,t){},bpnE:function(e,t){},bucq:function(e,t){},"h/oq":function(e,t){},hlbC:function(e,t){},p0MK:function(e,t){},sjfz:function(e,t){},sphj:function(e,t){},uslO:function(e,t,i){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn-bd":"1C9R","./bn-bd.js":"1C9R","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-mx":"USNP","./es-mx.js":"USNP","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tk":"+WRH","./tk.js":"+WRH","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function s(e){return i(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="uslO"},vJPi:function(e,t,i){"use strict";var n=i("fZjL"),s=i.n(n),r={props:{field:{type:String,default:""},label:{type:String,default:null},type:{type:String,default:"string"},initStyle:{type:Object,default:function(){return{}}},width:{type:String,default:"100px"},invisible:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},textTransform:{type:String,default:null},textAlign:{type:String,default:null},keyField:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},validate:{type:Function,default:null},change:{type:Function,default:null},link:{type:Function,default:null},allowKeys:{type:[Array,Function],default:function(){return null}},mandatory:{type:String,default:""},lengthLimit:{type:Number,default:0},autocomplete:{type:Boolean,default:null},pos:{type:Number,default:0},options:{type:[Array,Object,Function],default:function(){return null}},summary:{type:String,default:null},sort:{type:Function,default:null},toValue:{type:Function,default:function(e){var t=this;switch(this.textTransform){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase()}switch(this.type){case"datetick":case"datetimetick":case"datetimesectick":return new Date(e+" GMT+0").getTime();case"check10":case"checkYN":case"checkTF":return e.toUpperCase();case"map":if(this.options.constructor.name.endsWith("Function")){var i=this.options(e);return s()(i).find(function(t){return i[t]===e})}return s()(this.options).find(function(i){return t.options[i]===e});default:return e}}},toText:{type:Function,default:function(e){if(this.keyField&&e&&e.toString().startsWith("Â§"))return"";var t=60*(new Date).getTimezoneOffset()*1e3,i=void 0;switch(this.type){case"date":return(i=new Date(e).getTime())?new Date(i-t).toISOString().slice(0,10):"";case"datetick":return(i=new Date(1*e?1*e:e).getTime())?new Date(i-t).toISOString().slice(0,10):"";case"datetimetick":return(i=new Date(1*e?1*e:e).getTime())?new Date(i-t).toISOString().replace("T"," ").slice(0,16):"";case"datetimesectick":return(i=new Date(1*e?1*e:e).getTime())?new Date(i-t).toISOString().replace("T"," ").slice(0,19):"";case"map":return this.options.constructor.name.endsWith("Function")?this.options(e)[e]:this.options[e];default:return e}}},register:{type:Function,default:null}},created:function(){this.init()},methods:{init:function(){var e=this,t=this.initStyle,i=this.validate,n=this.allowKeys,s=this.lengthLimit;switch(this.type){case"number":t.textAlign="right",n=n||["0","1","2","3","4","5","6","7","8","9",".","-"];break;case"date":n=n||["0","1","2","3","4","5","6","7","8","9","-"];break;case"datetime":case"datetimesec":case"datetick":case"datetimetick":case"datetimesectick":n=n||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"check10":t.textAlign="center",t.textTransform="uppercase",n=n||["0","1"],s=s||1;break;case"checkYN":t.textAlign="center",t.textTransform="uppercase",n=n||["Y","N"],s=s||1;break;case"checkTF":t.textAlign="center",t.textTransform="uppercase",n=n||["T","F"],s=s||1;break;case"map":if("AsyncFunction"===this.options.constructor.name)throw new Error("VueExcelColumn: Map does not support Async Function");break;case"select":case"string":break;default:throw new Error("VueExcelColumn: Not supported type:"+this.type)}this.textTransform&&(t.textTransform=this.textTransform),this.textAlign&&(t.textAlign=this.textAlign),this._autocomplete=e.autocomplete,this._readonly=e.readonly,this.$parent.registerColumn({name:this.field,label:null===this.label?this.field:this.label,type:this.type,width:this.width,validate:i,change:this.change,link:this.link,sort:this.sort,keyField:this.keyField,sticky:this.sticky,allowKeys:n,mandatory:this.mandatory,lengthLimit:Number(s),textTransform:this.textTransform,get autocomplete(){return null===e._autocomplete?e.$parent.autocomplete:e._autocomplete},set autocomplete(t){e._autocomplete=t},initStyle:t,invisible:this.invisible,get readonly(){return null===e._readonly?e.$parent.readonly:e._readonly},set readonly(t){e._readonly=t},pos:Number(this.pos),options:this.options,summary:this.summary,toValue:this.toValue,toText:this.toText,register:this.register})}}},o={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},a=i("VU/8")(r,o,!1,null,null,null);t.a=a.exports},xXva:function(e,t){},yP5V:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7b58a72d19842a972778.js.map